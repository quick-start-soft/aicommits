#!/usr/bin/env node
import Mu from"tty";import{Buffer as Qt}from"node:buffer";import W from"node:path";import zD,{ChildProcess as un}from"node:child_process";import b,{stdin as KD,stdout as YD}from"node:process";import Dn from"child_process";import U from"path";import ju from"fs";import{fileURLToPath as VD}from"node:url";import en,{constants as JD}from"node:os";import XD from"assert";import ZD from"events";import{createWriteStream as tn,createReadStream as nn}from"node:fs";import rn from"buffer";import Nu from"stream";import QD from"util";import{debuglog as on}from"node:util";import*as Cu from"node:readline";import ue from"node:readline";import{WriteStream as sn}from"node:tty";import S from"fs/promises";import De from"os";import an from"https";import cn from"net";import ln from"tls";import Fn,{fileURLToPath as Cn,pathToFileURL as fn}from"url";const dn="known-flag",En="unknown-flag",pn="argument",{stringify:Z}=JSON,hn=/\B([A-Z])/g,mn=u=>u.replace(hn,"-$1").toLowerCase(),{hasOwnProperty:gn}=Object.prototype,Q=(u,D)=>gn.call(u,D),Bn=u=>Array.isArray(u),ee=u=>typeof u=="function"?[u,!1]:Bn(u)?[u[0],!0]:ee(u.type),bn=(u,D)=>u===Boolean?D!=="false":D,yn=(u,D)=>typeof D=="boolean"?D:u===Number&&D===""?Number.NaN:u(D),An=/[\s.:=]/,wn=u=>{const D=`Flag name ${Z(u)}`;if(u.length===0)throw new Error(`${D} cannot be empty`);if(u.length===1)throw new Error(`${D} must be longer than a character`);const e=u.match(An);if(e)throw new Error(`${D} cannot contain ${Z(e?.[0])}`)},$n=u=>{const D={},e=(t,r)=>{if(Q(D,t))throw new Error(`Duplicate flags named ${Z(t)}`);D[t]=r};for(const t in u){if(!Q(u,t))continue;wn(t);const r=u[t],o=[[],...ee(r),r];e(t,o);const n=mn(t);if(t!==n&&e(n,o),"alias"in r&&typeof r.alias=="string"){const{alias:s}=r,i=`Flag alias ${Z(s)} for flag ${Z(t)}`;if(s.length===0)throw new Error(`${i} cannot be empty`);if(s.length>1)throw new Error(`${i} must be a single character`);e(s,o)}}return D},vn=(u,D)=>{const e={};for(const t in u){if(!Q(u,t))continue;const[r,,o,n]=D[t];if(r.length===0&&"default"in n){let{default:s}=n;typeof s=="function"&&(s=s()),e[t]=s}else e[t]=o?r:r.pop()}return e},fu="--",xn=/[.:=]/,Sn=/^-{1,2}\w/,On=u=>{if(!Sn.test(u))return;const D=!u.startsWith(fu);let e=u.slice(D?1:2),t;const r=e.match(xn);if(r){const{index:o}=r;t=e.slice(o+1),e=e.slice(0,o)}return[e,t,D]},Tn=(u,{onFlag:D,onArgument:e})=>{let t;const r=(o,n)=>{if(typeof t!="function")return!0;t(o,n),t=void 0};for(let o=0;o<u.length;o+=1){const n=u[o];if(n===fu){r();const i=u.slice(o+1);e?.(i,[o],!0);break}const s=On(n);if(s){if(r(),!D)continue;const[i,l,F]=s;if(F)for(let a=0;a<i.length;a+=1){r();const c=a===i.length-1;t=D(i[a],c?l:void 0,[o,a+1,c])}else t=D(i,l,[o])}else r(n,[o])&&e?.([n],[o])}r()},In=(u,D)=>{for(const[e,t,r]of D.reverse()){if(t){const o=u[e];let n=o.slice(0,t);if(r||(n+=o.slice(t+1)),n!=="-"){u[e]=n;continue}}u.splice(e,1)}},Pn=(u,D=process.argv.slice(2),{ignore:e}={})=>{const t=[],r=$n(u),o={},n=[];return n[fu]=[],Tn(D,{onFlag(s,i,l){const F=Q(r,s);if(!e?.(F?dn:En,s,i)){if(F){const[a,c]=r[s],C=bn(c,i),f=(d,p)=>{t.push(l),p&&t.push(p),a.push(yn(c,d||""))};return C===void 0?f:f(C)}Q(o,s)||(o[s]=[]),o[s].push(i===void 0?!0:i),t.push(l)}},onArgument(s,i,l){e?.(pn,D[i[0]])||(n.push(...s),l?(n[fu]=s,D.splice(i[0])):t.push(i))}}),In(D,t),{flags:vn(u,r),unknownFlags:o,_:n}};var kn=Object.create,du=Object.defineProperty,_n=Object.defineProperties,Rn=Object.getOwnPropertyDescriptor,Mn=Object.getOwnPropertyDescriptors,jn=Object.getOwnPropertyNames,te=Object.getOwnPropertySymbols,Nn=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,re=(u,D,e)=>D in u?du(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,Eu=(u,D)=>{for(var e in D||(D={}))ne.call(D,e)&&re(u,e,D[e]);if(te)for(var e of te(D))Ln.call(D,e)&&re(u,e,D[e]);return u},Lu=(u,D)=>_n(u,Mn(D)),Gn=u=>du(u,"__esModule",{value:!0}),Wn=(u,D)=>()=>(u&&(D=u(u=0)),D),Un=(u,D)=>()=>(D||u((D={exports:{}}).exports,D),D.exports),Hn=(u,D,e,t)=>{if(D&&typeof D=="object"||typeof D=="function")for(let r of jn(D))!ne.call(u,r)&&(e||r!=="default")&&du(u,r,{get:()=>D[r],enumerable:!(t=Rn(D,r))||t.enumerable});return u},qn=(u,D)=>Hn(Gn(du(u!=null?kn(Nn(u)):{},"default",!D&&u&&u.__esModule?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u),v=Wn(()=>{}),zn=Un((u,D)=>{v(),D.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});v(),v(),v();var Kn=u=>{var D,e,t;let r=(D=process.stdout.columns)!=null?D:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(r)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:r}:{columns:(e=u.columns)!=null?e:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:r}};v(),v(),v(),v(),v();function Yn({onlyFirst:u=!1}={}){let D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}function oe(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Yn(),"")}v();function Vn(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}var Jn=qn(zn(),1);function M(u){if(typeof u!="string"||u.length===0||(u=oe(u),u.length===0))return 0;u=u.replace((0,Jn.default)(),"  ");let D=0;for(let e=0;e<u.length;e++){let t=u.codePointAt(e);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&e++,D+=Vn(t)?2:1)}return D}var se=u=>Math.max(...u.split(`
`).map(M)),Xn=u=>{let D=[];for(let e of u){let{length:t}=e,r=t-D.length;for(let o=0;o<r;o+=1)D.push(0);for(let o=0;o<t;o+=1){let n=se(e[o]);n>D[o]&&(D[o]=n)}}return D};v();var ie=/^\d+%$/,ae={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},Zn=(u,D)=>{var e;let t=[];for(let r=0;r<u.length;r+=1){let o=(e=D[r])!=null?e:"auto";if(typeof o=="number"||o==="auto"||o==="content-width"||typeof o=="string"&&ie.test(o)){t.push(Lu(Eu({},ae),{width:o,contentWidth:u[r]}));continue}if(o&&typeof o=="object"){let n=Lu(Eu(Eu({},ae),o),{contentWidth:u[r]});n.horizontalPadding=n.paddingLeft+n.paddingRight,t.push(n);continue}throw new Error(`Invalid column width: ${JSON.stringify(o)}`)}return t};function Qn(u,D){for(let e of u){let{width:t}=e;if(t==="content-width"&&(e.width=e.contentWidth),t==="auto"){let i=Math.min(20,e.contentWidth);e.width=i,e.autoOverflow=e.contentWidth-i}if(typeof t=="string"&&ie.test(t)){let i=Number.parseFloat(t.slice(0,-1))/100;e.width=Math.floor(D*i)-(e.paddingLeft+e.paddingRight)}let{horizontalPadding:r}=e,o=1,n=o+r;if(n>=D){let i=n-D,l=Math.ceil(e.paddingLeft/r*i),F=i-l;e.paddingLeft-=l,e.paddingRight-=F,e.horizontalPadding=e.paddingLeft+e.paddingRight}e.paddingLeftString=e.paddingLeft?" ".repeat(e.paddingLeft):"",e.paddingRightString=e.paddingRight?" ".repeat(e.paddingRight):"";let s=D-e.horizontalPadding;e.width=Math.max(Math.min(e.width,s),o)}}var ce=()=>Object.assign([],{columns:0});function ur(u,D){let e=[ce()],[t]=e;for(let r of u){let o=r.width+r.horizontalPadding;t.columns+o>D&&(t=ce(),e.push(t)),t.push(r),t.columns+=o}for(let r of e){let o=r.reduce((c,C)=>c+C.width+C.horizontalPadding,0),n=D-o;if(n===0)continue;let s=r.filter(c=>"autoOverflow"in c),i=s.filter(c=>c.autoOverflow>0),l=i.reduce((c,C)=>c+C.autoOverflow,0),F=Math.min(l,n);for(let c of i){let C=Math.floor(c.autoOverflow/l*F);c.width+=C,n-=C}let a=Math.floor(n/s.length);for(let c=0;c<s.length;c+=1){let C=s[c];c===s.length-1?C.width+=n:C.width+=a,n-=a}}return e}function Dr(u,D,e){let t=Zn(e,D);return Qn(t,u),ur(t,u)}v(),v(),v();var Gu=10,le=(u=0)=>D=>`\x1B[${D+u}m`,Fe=(u=0)=>D=>`\x1B[${38+u};5;${D}m`,Ce=(u=0)=>(D,e,t)=>`\x1B[${38+u};2;${D};${e};${t}m`;function er(){let u=new Map,D={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};D.color.gray=D.color.blackBright,D.bgColor.bgGray=D.bgColor.bgBlackBright,D.color.grey=D.color.blackBright,D.bgColor.bgGrey=D.bgColor.bgBlackBright;for(let[e,t]of Object.entries(D)){for(let[r,o]of Object.entries(t))D[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},t[r]=D[r],u.set(o[0],o[1]);Object.defineProperty(D,e,{value:t,enumerable:!1})}return Object.defineProperty(D,"codes",{value:u,enumerable:!1}),D.color.close="\x1B[39m",D.bgColor.close="\x1B[49m",D.color.ansi=le(),D.color.ansi256=Fe(),D.color.ansi16m=Ce(),D.bgColor.ansi=le(Gu),D.bgColor.ansi256=Fe(Gu),D.bgColor.ansi16m=Ce(Gu),Object.defineProperties(D,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;r.length===3&&(r=r.split("").map(n=>n+n).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>D.rgbToAnsi256(...D.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,r,o;if(e>=232)t=((e-232)*10+8)/255,r=t,o=t;else{e-=16;let i=e%36;t=Math.floor(e/36)/5,r=Math.floor(i/6)/5,o=i%6/5}let n=Math.max(t,r,o)*2;if(n===0)return 30;let s=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return n===2&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>D.ansi256ToAnsi(D.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>D.ansi256ToAnsi(D.hexToAnsi256(e)),enumerable:!1}}),D}var tr=er(),nr=tr,pu=new Set(["\x1B","\x9B"]),rr=39,Wu="\x07",fe="[",or="]",de="m",Uu=`${or}8;;`,Ee=u=>`${pu.values().next().value}${fe}${u}${de}`,pe=u=>`${pu.values().next().value}${Uu}${u}${Wu}`,sr=u=>u.split(" ").map(D=>M(D)),Hu=(u,D,e)=>{let t=[...D],r=!1,o=!1,n=M(oe(u[u.length-1]));for(let[s,i]of t.entries()){let l=M(i);if(n+l<=e?u[u.length-1]+=i:(u.push(i),n=0),pu.has(i)&&(r=!0,o=t.slice(s+1).join("").startsWith(Uu)),r){o?i===Wu&&(r=!1,o=!1):i===de&&(r=!1);continue}n+=l,n===e&&s<t.length-1&&(u.push(""),n=0)}!n&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},ir=u=>{let D=u.split(" "),e=D.length;for(;e>0&&!(M(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},ar=(u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let t="",r,o,n=sr(u),s=[""];for(let[l,F]of u.split(" ").entries()){e.trim!==!1&&(s[s.length-1]=s[s.length-1].trimStart());let a=M(s[s.length-1]);if(l!==0&&(a>=D&&(e.wordWrap===!1||e.trim===!1)&&(s.push(""),a=0),(a>0||e.trim===!1)&&(s[s.length-1]+=" ",a++)),e.hard&&n[l]>D){let c=D-a,C=1+Math.floor((n[l]-c-1)/D);Math.floor((n[l]-1)/D)<C&&s.push(""),Hu(s,F,D);continue}if(a+n[l]>D&&a>0&&n[l]>0){if(e.wordWrap===!1&&a<D){Hu(s,F,D);continue}s.push("")}if(a+n[l]>D&&e.wordWrap===!1){Hu(s,F,D);continue}s[s.length-1]+=F}e.trim!==!1&&(s=s.map(l=>ir(l)));let i=[...s.join(`
`)];for(let[l,F]of i.entries()){if(t+=F,pu.has(F)){let{groups:c}=new RegExp(`(?:\\${fe}(?<code>\\d+)m|\\${Uu}(?<uri>.*)${Wu})`).exec(i.slice(l).join(""))||{groups:{}};if(c.code!==void 0){let C=Number.parseFloat(c.code);r=C===rr?void 0:C}else c.uri!==void 0&&(o=c.uri.length===0?void 0:c.uri)}let a=nr.codes.get(Number(r));i[l+1]===`
`?(o&&(t+=pe("")),r&&a&&(t+=Ee(a))):F===`
`&&(r&&a&&(t+=Ee(r)),o&&(t+=pe(o)))}return t};function cr(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>ar(t,D,e)).join(`
`)}var he=u=>Array.from({length:u}).fill("");function lr(u,D){let e=[],t=0;for(let r of u){let o=0,n=r.map(i=>{var l;let F=(l=D[t])!=null?l:"";t+=1,i.preprocess&&(F=i.preprocess(F)),se(F)>i.width&&(F=cr(F,i.width,{hard:!0}));let a=F.split(`
`);if(i.postprocess){let{postprocess:c}=i;a=a.map((C,f)=>c.call(i,C,f))}return i.paddingTop&&a.unshift(...he(i.paddingTop)),i.paddingBottom&&a.push(...he(i.paddingBottom)),a.length>o&&(o=a.length),Lu(Eu({},i),{lines:a})}),s=[];for(let i=0;i<o;i+=1){let l=n.map(F=>{var a;let c=(a=F.lines[i])!=null?a:"",C=Number.isFinite(F.width)?" ".repeat(F.width-M(c)):"",f=F.paddingLeftString;return F.align==="right"&&(f+=C),f+=c,F.align==="left"&&(f+=C),f+F.paddingRightString}).join("");s.push(l)}e.push(s.join(`
`))}return e.join(`
`)}function Fr(u,D){if(!u||u.length===0)return"";let e=Xn(u),t=e.length;if(t===0)return"";let{stdoutColumns:r,columns:o}=Kn(D);if(o.length>t)throw new Error(`${o.length} columns defined, but only ${t} columns found`);let n=Dr(r,o,e);return u.map(s=>lr(n,s)).join(`
`)}v();var Cr=["<",">","=",">=","<="];function fr(u){if(!Cr.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}function dr(u){let D=Object.keys(u).map(e=>{let[t,r]=e.split(" ");fr(t);let o=Number.parseInt(r,10);if(Number.isNaN(o))throw new TypeError(`Invalid breakpoint value: ${r}`);let n=u[e];return{operator:t,breakpoint:o,value:n}}).sort((e,t)=>t.breakpoint-e.breakpoint);return e=>{var t;return(t=D.find(({operator:r,breakpoint:o})=>r==="="&&e===o||r===">"&&e>o||r==="<"&&e<o||r===">="&&e>=o||r==="<="&&e<=o))==null?void 0:t.value}}const Er=u=>u.replace(/[\W_]([a-z\d])?/gi,(D,e)=>e?e.toUpperCase():""),pr=u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),hr={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function mr(u){let D=!1;return{type:"table",data:{tableData:Object.keys(u).sort((e,t)=>e.localeCompare(t)).map(e=>{const t=u[e],r="alias"in t;return r&&(D=!0),{name:e,flag:t,flagFormatted:`--${pr(e)}`,aliasesEnabled:D,aliasFormatted:r?`-${t.alias}`:void 0}}).map(e=>(e.aliasesEnabled=D,[{type:"flagName",data:e},{type:"flagDescription",data:e}])),tableBreakpoints:hr}}}const me=u=>!u||(u.version??(u.help?u.help.version:void 0)),ge=u=>{const D="parent"in u&&u.parent?.name;return(D?`${D} `:"")+u.name};function gr(u){const D=[];u.name&&D.push(ge(u));const e=me(u)??("parent"in u&&me(u.parent));if(e&&D.push(`v${e}`),D.length!==0)return{id:"name",type:"text",data:`${D.join(" ")}
`}}function Br(u){const{help:D}=u;if(!(!D||!D.description))return{id:"description",type:"text",data:`${D.description}
`}}function br(u){const D=u.help||{};if("usage"in D)return D.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(D.usage)?D.usage.join(`
`):D.usage}}:void 0;if(u.name){const e=[],t=[ge(u)];if(u.flags&&Object.keys(u.flags).length>0&&t.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:r}=u,o=r.indexOf("--"),n=o>-1&&r.slice(o+1).some(s=>s.startsWith("<"));t.push(r.map(s=>s!=="--"?s:n?"--":"[--]").join(" "))}if(t.length>1&&e.push(t.join(" ")),"commands"in u&&u.commands?.length&&e.push(`${u.name} <command>`),e.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:e.join(`
`)}}}}function yr(u){return!("commands"in u)||!u.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(D=>[D.options.name,D.options.help?D.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function Ar(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:mr(u.flags),indentBody:0}}}function wr(u){const{help:D}=u;if(!D||!D.examples||D.examples.length===0)return;let{examples:e}=D;if(Array.isArray(e)&&(e=e.join(`
`)),e)return{id:"examples",type:"section",data:{title:"Examples:",body:e}}}function $r(u){if(!("alias"in u)||!u.alias)return;const{alias:D}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(D)?D.join(", "):D}}}const vr=u=>[gr,Br,br,yr,Ar,wr,$r].map(D=>D(u)).filter(Boolean),xr=Mu.WriteStream.prototype.hasColors();class Sr{text(D){return D}bold(D){return xr?`\x1B[1m${D}\x1B[22m`:D.toLocaleUpperCase()}indentText({text:D,spaces:e}){return D.replace(/^/gm," ".repeat(e))}heading(D){return this.bold(D)}section({title:D,body:e,indentBody:t=2}){return`${(D?`${this.heading(D)}
`:"")+(e?this.indentText({text:this.render(e),spaces:t}):"")}
`}table({tableData:D,tableOptions:e,tableBreakpoints:t}){return Fr(D.map(r=>r.map(o=>this.render(o))),t?dr(t):e)}flagParameter(D){return D===Boolean?"":D===String?"<string>":D===Number?"<number>":Array.isArray(D)?this.flagParameter(D[0]):"<value>"}flagOperator(D){return" "}flagName(D){const{flag:e,flagFormatted:t,aliasesEnabled:r,aliasFormatted:o}=D;let n="";if(o?n+=`${o}, `:r&&(n+="    "),n+=t,"placeholder"in e&&typeof e.placeholder=="string")n+=`${this.flagOperator(D)}${e.placeholder}`;else{const s=this.flagParameter("type"in e?e.type:e);s&&(n+=`${this.flagOperator(D)}${s}`)}return n}flagDefault(D){return JSON.stringify(D)}flagDescription({flag:D}){let e="description"in D?D.description??"":"";if("default"in D){let{default:t}=D;typeof t=="function"&&(t=t()),t&&(e+=` (default: ${this.flagDefault(t)})`)}return e}render(D){if(typeof D=="string")return D;if(Array.isArray(D))return D.map(e=>this.render(e)).join(`
`);if("type"in D&&this[D.type]){const e=this[D.type];if(typeof e=="function")return e.call(this,D.data)}throw new Error(`Invalid node type: ${JSON.stringify(D)}`)}}const qu=u=>u.length>0&&!u.includes(" "),{stringify:k}=JSON,Or=/[|\\{}()[\]^$+*?.]/;function zu(u){const D=[];let e,t;for(const r of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${k(t)} must be last`);const o=r[0],n=r[r.length-1];let s;if(o==="<"&&n===">"&&(s=!0,e))throw new Error(`Invalid parameter: Required parameter ${k(r)} cannot come after optional parameter ${k(e)}`);if(o==="["&&n==="]"&&(s=!1,e=r),s===void 0)throw new Error(`Invalid parameter: ${k(r)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let i=r.slice(1,-1);const l=i.slice(-3)==="...";l&&(t=r,i=i.slice(0,-3));const F=i.match(Or);if(F)throw new Error(`Invalid parameter: ${k(r)}. Invalid character found ${k(F[0])}`);D.push({name:i,required:s,spread:l})}return D}function Ku(u,D,e,t){for(let r=0;r<D.length;r+=1){const{name:o,required:n,spread:s}=D[r],i=Er(o);if(i in u)throw new Error(`Invalid parameter: ${k(o)} is used more than once.`);const l=s?e.slice(r):e[r];if(s&&(r=D.length),n&&(!l||s&&l.length===0))return console.error(`Error: Missing required parameter ${k(o)}
`),t(),process.exit(1);u[i]=l}}function Tr(u){return u===void 0||u!==!1}function Be(u,D,e,t){const r={...D.flags},o=D.version;o&&(r.version={type:Boolean,description:"Show version"});const{help:n}=D,s=Tr(n);s&&!("help"in r)&&(r.help={type:Boolean,alias:"h",description:"Show help"});const i=Pn(r,t,{ignore:D.ignoreArgv}),l=()=>{console.log(D.version)};if(o&&i.flags.version===!0)return l(),process.exit(0);const F=new Sr,a=s&&n?.render?n.render:f=>F.render(f),c=f=>{const d=vr({...D,...f?{help:f}:{},flags:r});console.log(a(d,F))};if(s&&i.flags.help===!0)return c(),process.exit(0);if(D.parameters){let{parameters:f}=D,d=i._;const p=f.indexOf("--"),h=f.slice(p+1),w=Object.create(null);if(p>-1&&h.length>0){f=f.slice(0,p);const T=i._["--"];d=d.slice(0,-T.length||void 0),Ku(w,zu(f),d,c),Ku(w,zu(h),T,c)}else Ku(w,zu(f),d,c);Object.assign(i._,w)}const C={...i,showVersion:l,showHelp:c};return typeof e=="function"&&e(C),{command:u,...C}}function Ir(u,D){const e=new Map;for(const t of D){const r=[t.options.name],{alias:o}=t.options;o&&(Array.isArray(o)?r.push(...o):r.push(o));for(const n of r){if(e.has(n))throw new Error(`Duplicate command name found: ${k(n)}`);e.set(n,t)}}return e.get(u)}function Pr(u,D,e=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!qu(u.name)))throw new Error(`Invalid script name: ${k(u.name)}`);const t=e[0];if(u.commands&&qu(t)){const r=Ir(t,u.commands);if(r)return Be(r.options.name,{...r.options,parent:u},r.callback,e.slice(1))}return Be(void 0,u,D,e)}function be(u,D){if(!u)throw new Error("Command options are required");const{name:e}=u;if(u.name===void 0)throw new Error("Command name is required");if(!qu(e))throw new Error(`Invalid command name ${JSON.stringify(e)}. Command names must be one word.`);return{options:u,callback:D}}var kr="@quick-start-soft/aicommits",ye="0.0.0-semantic-release",_r="Writes your git commit messages for you with AI",Rr=["ai","git","commit"],Mr="MIT",jr="Nutlope/aicommits",Nr="Hassan El Mghari (@nutlope)",Lr="module",Gr=["dist"],Wr={aicommits:"./dist/cli.mjs",aic:"./dist/cli.mjs"},Ur={build:"pkgroll --minify",prepack:"npm run build && clean-pkg-json",lint:"","type-check":"tsc",test:"tsx tests"},Hr={"@dqbd/tiktoken":"^1.0.2"},qr={"@clack/prompts":"^0.7.0","@types/ini":"^1.3.31","@types/inquirer":"^9.0.3","@types/node":"^18.14.2","clean-pkg-json":"^1.2.0",cleye:"^1.3.2",execa:"^7.0.0","fs-fixture":"^1.2.0","https-proxy-agent":"^5.0.1",ini:"^3.0.1",kolorist:"^1.7.0",manten:"^0.7.0",openai:"^3.2.1",pkgroll:"^1.9.0",tsx:"^3.12.3",typescript:"^4.9.5"},zr={branches:["main"]},Kr={name:kr,version:ye,description:_r,keywords:Rr,license:Mr,repository:jr,author:Nr,type:Lr,files:Gr,bin:Wr,scripts:Ur,dependencies:Hr,devDependencies:qr,release:zr},y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var H={exports:{}},Yu,Ae;function Yr(){if(Ae)return Yu;Ae=1,Yu=t,t.sync=r;var u=ju;function D(o,n){var s=n.pathExt!==void 0?n.pathExt:process.env.PATHEXT;if(!s||(s=s.split(";"),s.indexOf("")!==-1))return!0;for(var i=0;i<s.length;i++){var l=s[i].toLowerCase();if(l&&o.substr(-l.length).toLowerCase()===l)return!0}return!1}function e(o,n,s){return!o.isSymbolicLink()&&!o.isFile()?!1:D(n,s)}function t(o,n,s){u.stat(o,function(i,l){s(i,i?!1:e(l,o,n))})}function r(o,n){return e(u.statSync(o),o,n)}return Yu}var Vu,we;function Vr(){if(we)return Vu;we=1,Vu=D,D.sync=e;var u=ju;function D(o,n,s){u.stat(o,function(i,l){s(i,i?!1:t(l,n))})}function e(o,n){return t(u.statSync(o),n)}function t(o,n){return o.isFile()&&r(o,n)}function r(o,n){var s=o.mode,i=o.uid,l=o.gid,F=n.uid!==void 0?n.uid:process.getuid&&process.getuid(),a=n.gid!==void 0?n.gid:process.getgid&&process.getgid(),c=parseInt("100",8),C=parseInt("010",8),f=parseInt("001",8),d=c|C,p=s&f||s&C&&l===a||s&c&&i===F||s&d&&F===0;return p}return Vu}var hu;process.platform==="win32"||y.TESTING_WINDOWS?hu=Yr():hu=Vr();var Jr=Ju;Ju.sync=Xr;function Ju(u,D,e){if(typeof D=="function"&&(e=D,D={}),!e){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(t,r){Ju(u,D||{},function(o,n){o?r(o):t(n)})})}hu(u,D||{},function(t,r){t&&(t.code==="EACCES"||D&&D.ignoreErrors)&&(t=null,r=!1),e(t,r)})}function Xr(u,D){try{return hu.sync(u,D||{})}catch(e){if(D&&D.ignoreErrors||e.code==="EACCES")return!1;throw e}}const q=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",$e=U,Zr=q?";":":",ve=Jr,xe=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),Se=(u,D)=>{const e=D.colon||Zr,t=u.match(/\//)||q&&u.match(/\\/)?[""]:[...q?[process.cwd()]:[],...(D.path||process.env.PATH||"").split(e)],r=q?D.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=q?r.split(e):[""];return q&&u.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:t,pathExt:o,pathExtExe:r}},Oe=(u,D,e)=>{typeof D=="function"&&(e=D,D={}),D||(D={});const{pathEnv:t,pathExt:r,pathExtExe:o}=Se(u,D),n=[],s=l=>new Promise((F,a)=>{if(l===t.length)return D.all&&n.length?F(n):a(xe(u));const c=t[l],C=/^".*"$/.test(c)?c.slice(1,-1):c,f=$e.join(C,u),d=!C&&/^\.[\\\/]/.test(u)?u.slice(0,2)+f:f;F(i(d,l,0))}),i=(l,F,a)=>new Promise((c,C)=>{if(a===r.length)return c(s(F+1));const f=r[a];ve(l+f,{pathExt:o},(d,p)=>{if(!d&&p)if(D.all)n.push(l+f);else return c(l+f);return c(i(l,F,a+1))})});return e?s(0).then(l=>e(null,l),e):s(0)},Qr=(u,D)=>{D=D||{};const{pathEnv:e,pathExt:t,pathExtExe:r}=Se(u,D),o=[];for(let n=0;n<e.length;n++){const s=e[n],i=/^".*"$/.test(s)?s.slice(1,-1):s,l=$e.join(i,u),F=!i&&/^\.[\\\/]/.test(u)?u.slice(0,2)+l:l;for(let a=0;a<t.length;a++){const c=F+t[a];try{if(ve.sync(c,{pathExt:r}))if(D.all)o.push(c);else return c}catch{}}}if(D.all&&o.length)return o;if(D.nothrow)return null;throw xe(u)};var uo=Oe;Oe.sync=Qr;var Xu={exports:{}};const Te=(u={})=>{const D=u.env||process.env;return(u.platform||process.platform)!=="win32"?"PATH":Object.keys(D).reverse().find(t=>t.toUpperCase()==="PATH")||"Path"};Xu.exports=Te,Xu.exports.default=Te;var Do=Xu.exports;const Ie=U,eo=uo,to=Do;function Pe(u,D){const e=u.options.env||process.env,t=process.cwd(),r=u.options.cwd!=null,o=r&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(u.options.cwd)}catch{}let n;try{n=eo.sync(u.command,{path:e[to({env:e})],pathExt:D?Ie.delimiter:void 0})}catch{}finally{o&&process.chdir(t)}return n&&(n=Ie.resolve(r?u.options.cwd:"",n)),n}function no(u){return Pe(u)||Pe(u,!0)}var ro=no,Zu={};const Qu=/([()\][%!^"`<>&|;, *?])/g;function oo(u){return u=u.replace(Qu,"^$1"),u}function so(u,D){return u=`${u}`,u=u.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),u=u.replace(/(?=(\\+?)?)\1$/,"$1$1"),u=`"${u}"`,u=u.replace(Qu,"^$1"),D&&(u=u.replace(Qu,"^$1")),u}Zu.command=oo,Zu.argument=so;var io=/^#!(.*)/;const ao=io;var co=(u="")=>{const D=u.match(ao);if(!D)return null;const[e,t]=D[0].replace(/#! ?/,"").split(" "),r=e.split("/").pop();return r==="env"?t:t?`${r} ${t}`:r};const uD=ju,lo=co;function Fo(u){const e=Buffer.alloc(150);let t;try{t=uD.openSync(u,"r"),uD.readSync(t,e,0,150,0),uD.closeSync(t)}catch{}return lo(e.toString())}var Co=Fo;const fo=U,ke=ro,_e=Zu,Eo=Co,po=process.platform==="win32",ho=/\.(?:com|exe)$/i,mo=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function go(u){u.file=ke(u);const D=u.file&&Eo(u.file);return D?(u.args.unshift(u.file),u.command=D,ke(u)):u.file}function Bo(u){if(!po)return u;const D=go(u),e=!ho.test(D);if(u.options.forceShell||e){const t=mo.test(D);u.command=fo.normalize(u.command),u.command=_e.command(u.command),u.args=u.args.map(o=>_e.argument(o,t));const r=[u.command].concat(u.args).join(" ");u.args=["/d","/s","/c",`"${r}"`],u.command=process.env.comspec||"cmd.exe",u.options.windowsVerbatimArguments=!0}return u}function bo(u,D,e){D&&!Array.isArray(D)&&(e=D,D=null),D=D?D.slice(0):[],e=Object.assign({},e);const t={command:u,args:D,options:e,file:void 0,original:{command:u,args:D}};return e.shell?t:Bo(t)}var yo=bo;const DD=process.platform==="win32";function eD(u,D){return Object.assign(new Error(`${D} ${u.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${D} ${u.command}`,path:u.command,spawnargs:u.args})}function Ao(u,D){if(!DD)return;const e=u.emit;u.emit=function(t,r){if(t==="exit"){const o=Re(r,D);if(o)return e.call(u,"error",o)}return e.apply(u,arguments)}}function Re(u,D){return DD&&u===1&&!D.file?eD(D.original,"spawn"):null}function wo(u,D){return DD&&u===1&&!D.file?eD(D.original,"spawnSync"):null}var $o={hookChildProcess:Ao,verifyENOENT:Re,verifyENOENTSync:wo,notFoundError:eD};const Me=Dn,tD=yo,nD=$o;function je(u,D,e){const t=tD(u,D,e),r=Me.spawn(t.command,t.args,t.options);return nD.hookChildProcess(r,t),r}function vo(u,D,e){const t=tD(u,D,e),r=Me.spawnSync(t.command,t.args,t.options);return r.error=r.error||nD.verifyENOENTSync(r.status,t),r}H.exports=je,H.exports.spawn=je,H.exports.sync=vo,H.exports._parse=tD,H.exports._enoent=nD;var xo=H.exports,So=j(xo);function Oo(u){const D=typeof u=="string"?`
`:`
`.charCodeAt(),e=typeof u=="string"?"\r":"\r".charCodeAt();return u[u.length-1]===D&&(u=u.slice(0,-1)),u[u.length-1]===e&&(u=u.slice(0,-1)),u}function Ne(u={}){const{env:D=process.env,platform:e=process.platform}=u;return e!=="win32"?"PATH":Object.keys(D).reverse().find(t=>t.toUpperCase()==="PATH")||"Path"}const To=({cwd:u=b.cwd(),path:D=b.env[Ne()],preferLocal:e=!0,execPath:t=b.execPath,addExecPath:r=!0}={})=>{const o=u instanceof URL?VD(u):u,n=W.resolve(o),s=[];return e&&Io(s,n),r&&Po(s,t,n),[...s,D].join(W.delimiter)},Io=(u,D)=>{let e;for(;e!==D;)u.push(W.join(D,"node_modules/.bin")),e=D,D=W.resolve(D,"..")},Po=(u,D,e)=>{const t=D instanceof URL?VD(D):D;u.push(W.resolve(e,t,".."))},ko=({env:u=b.env,...D}={})=>{u={...u};const e=Ne({env:u});return D.path=u[e],u[e]=To(D),u},_o=(u,D,e,t)=>{if(e==="length"||e==="prototype"||e==="arguments"||e==="caller")return;const r=Object.getOwnPropertyDescriptor(u,e),o=Object.getOwnPropertyDescriptor(D,e);!Ro(r,o)&&t||Object.defineProperty(u,e,o)},Ro=function(u,D){return u===void 0||u.configurable||u.writable===D.writable&&u.enumerable===D.enumerable&&u.configurable===D.configurable&&(u.writable||u.value===D.value)},Mo=(u,D)=>{const e=Object.getPrototypeOf(D);e!==Object.getPrototypeOf(u)&&Object.setPrototypeOf(u,e)},jo=(u,D)=>`/* Wrapped ${u}*/
${D}`,No=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Lo=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Go=(u,D,e)=>{const t=e===""?"":`with ${e.trim()}() `,r=jo.bind(null,t,D.toString());Object.defineProperty(r,"name",Lo),Object.defineProperty(u,"toString",{...No,value:r})};function Wo(u,D,{ignoreNonConfigurable:e=!1}={}){const{name:t}=u;for(const r of Reflect.ownKeys(D))_o(u,D,r,e);return Mo(u,D),Go(u,D,t),u}const mu=new WeakMap,Le=(u,D={})=>{if(typeof u!="function")throw new TypeError("Expected a function");let e,t=0;const r=u.displayName||u.name||"<anonymous>",o=function(...n){if(mu.set(o,++t),t===1)e=u.apply(this,n),u=null;else if(D.throw===!0)throw new Error(`Function \`${r}\` can only be called once`);return e};return Wo(o,u),mu.set(o,t),o};Le.callCount=u=>{if(!mu.has(u))throw new Error(`The given function \`${u.name}\` is not wrapped by the \`onetime\` package`);return mu.get(u)};const Uo=()=>{const u=We-Ge+1;return Array.from({length:u},Ho)},Ho=(u,D)=>({name:`SIGRT${D+1}`,number:Ge+D,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Ge=34,We=64,qo=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],Ue=()=>{const u=Uo();return[...qo,...u].map(zo)},zo=({name:u,number:D,description:e,action:t,forced:r=!1,standard:o})=>{const{signals:{[u]:n}}=JD,s=n!==void 0;return{name:u,number:s?n:D,description:e,supported:s,action:t,forced:r,standard:o}},Ko=()=>{const u=Ue();return Object.fromEntries(u.map(Yo))},Yo=({name:u,number:D,description:e,supported:t,action:r,forced:o,standard:n})=>[u,{name:u,number:D,description:e,supported:t,action:r,forced:o,standard:n}],Vo=Ko(),Jo=()=>{const u=Ue(),D=We+1,e=Array.from({length:D},(t,r)=>Xo(r,u));return Object.assign({},...e)},Xo=(u,D)=>{const e=Zo(u,D);if(e===void 0)return{};const{name:t,description:r,supported:o,action:n,forced:s,standard:i}=e;return{[u]:{name:t,number:u,description:r,supported:o,action:n,forced:s,standard:i}}},Zo=(u,D)=>{const e=D.find(({name:t})=>JD.signals[t]===u);return e!==void 0?e:D.find(t=>t.number===u)};Jo();const Qo=({timedOut:u,timeout:D,errorCode:e,signal:t,signalDescription:r,exitCode:o,isCanceled:n})=>u?`timed out after ${D} milliseconds`:n?"was canceled":e!==void 0?`failed with ${e}`:t!==void 0?`was killed with ${t} (${r})`:o!==void 0?`failed with exit code ${o}`:"failed",He=({stdout:u,stderr:D,all:e,error:t,signal:r,exitCode:o,command:n,escapedCommand:s,timedOut:i,isCanceled:l,killed:F,parsed:{options:{timeout:a,cwd:c=b.cwd()}}})=>{o=o===null?void 0:o,r=r===null?void 0:r;const C=r===void 0?void 0:Vo[r].description,f=t&&t.code,p=`Command ${Qo({timedOut:i,timeout:a,errorCode:f,signal:r,signalDescription:C,exitCode:o,isCanceled:l})}: ${n}`,h=Object.prototype.toString.call(t)==="[object Error]",w=h?`${p}
${t.message}`:p,T=[w,D,u].filter(Boolean).join(`
`);return h?(t.originalMessage=t.message,t.message=T):t=new Error(T),t.shortMessage=w,t.command=n,t.escapedCommand=s,t.exitCode=o,t.signal=r,t.signalDescription=C,t.stdout=u,t.stderr=D,t.cwd=c,e!==void 0&&(t.all=e),"bufferedData"in t&&delete t.bufferedData,t.failed=!0,t.timedOut=!!i,t.isCanceled=l,t.killed=F&&!i,t},gu=["stdin","stdout","stderr"],us=u=>gu.some(D=>u[D]!==void 0),Ds=u=>{if(!u)return;const{stdio:D}=u;if(D===void 0)return gu.map(t=>u[t]);if(us(u))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${gu.map(t=>`\`${t}\``).join(", ")}`);if(typeof D=="string")return D;if(!Array.isArray(D))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof D}\``);const e=Math.max(D.length,gu.length);return Array.from({length:e},(t,r)=>D[r])};var z={exports:{}},Bu={exports:{}};Bu.exports;var qe;function es(){return qe||(qe=1,function(u){u.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&u.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&u.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(Bu)),Bu.exports}var m=y.process;const N=function(u){return u&&typeof u=="object"&&typeof u.removeListener=="function"&&typeof u.emit=="function"&&typeof u.reallyExit=="function"&&typeof u.listeners=="function"&&typeof u.kill=="function"&&typeof u.pid=="number"&&typeof u.on=="function"};if(!N(m))z.exports=function(){return function(){}};else{var ts=XD,uu=es(),ns=/^win/i.test(m.platform),bu=ZD;typeof bu!="function"&&(bu=bu.EventEmitter);var $;m.__signal_exit_emitter__?$=m.__signal_exit_emitter__:($=m.__signal_exit_emitter__=new bu,$.count=0,$.emitted={}),$.infinite||($.setMaxListeners(1/0),$.infinite=!0),z.exports=function(u,D){if(!N(y.process))return function(){};ts.equal(typeof u,"function","a callback must be provided for exit handler"),Du===!1&&ze();var e="exit";D&&D.alwaysLast&&(e="afterexit");var t=function(){$.removeListener(e,u),$.listeners("exit").length===0&&$.listeners("afterexit").length===0&&rD()};return $.on(e,u),t};var rD=function(){!Du||!N(y.process)||(Du=!1,uu.forEach(function(D){try{m.removeListener(D,oD[D])}catch{}}),m.emit=sD,m.reallyExit=Ke,$.count-=1)};z.exports.unload=rD;var K=function(D,e,t){$.emitted[D]||($.emitted[D]=!0,$.emit(D,e,t))},oD={};uu.forEach(function(u){oD[u]=function(){if(N(y.process)){var e=m.listeners(u);e.length===$.count&&(rD(),K("exit",null,u),K("afterexit",null,u),ns&&u==="SIGHUP"&&(u="SIGINT"),m.kill(m.pid,u))}}}),z.exports.signals=function(){return uu};var Du=!1,ze=function(){Du||!N(y.process)||(Du=!0,$.count+=1,uu=uu.filter(function(D){try{return m.on(D,oD[D]),!0}catch{return!1}}),m.emit=os,m.reallyExit=rs)};z.exports.load=ze;var Ke=m.reallyExit,rs=function(D){N(y.process)&&(m.exitCode=D||0,K("exit",m.exitCode,null),K("afterexit",m.exitCode,null),Ke.call(m,m.exitCode))},sD=m.emit,os=function(D,e){if(D==="exit"&&N(y.process)){e!==void 0&&(m.exitCode=e);var t=sD.apply(this,arguments);return K("exit",m.exitCode,null),K("afterexit",m.exitCode,null),t}else return sD.apply(this,arguments)}}var ss=z.exports,is=j(ss);const as=1e3*5,cs=(u,D="SIGTERM",e={})=>{const t=u(D);return ls(u,D,e,t),t},ls=(u,D,e,t)=>{if(!Fs(D,e,t))return;const r=fs(e),o=setTimeout(()=>{u("SIGKILL")},r);o.unref&&o.unref()},Fs=(u,{forceKillAfterTimeout:D},e)=>Cs(u)&&D!==!1&&e,Cs=u=>u===en.constants.signals.SIGTERM||typeof u=="string"&&u.toUpperCase()==="SIGTERM",fs=({forceKillAfterTimeout:u=!0})=>{if(u===!0)return as;if(!Number.isFinite(u)||u<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${u}\` (${typeof u})`);return u},ds=(u,D)=>{u.kill()&&(D.isCanceled=!0)},Es=(u,D,e)=>{u.kill(D),e(Object.assign(new Error("Timed out"),{timedOut:!0,signal:D}))},ps=(u,{timeout:D,killSignal:e="SIGTERM"},t)=>{if(D===0||D===void 0)return t;let r;const o=new Promise((s,i)=>{r=setTimeout(()=>{Es(u,e,i)},D)}),n=t.finally(()=>{clearTimeout(r)});return Promise.race([o,n])},hs=({timeout:u})=>{if(u!==void 0&&(!Number.isFinite(u)||u<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${u}\` (${typeof u})`)},ms=async(u,{cleanup:D,detached:e},t)=>{if(!D||e)return t;const r=is(()=>{u.kill()});return t.finally(()=>{r()})};function Ye(u){return u!==null&&typeof u=="object"&&typeof u.pipe=="function"}function Ve(u){return Ye(u)&&u.writable!==!1&&typeof u._write=="function"&&typeof u._writableState=="object"}const gs=u=>u instanceof un&&typeof u.then=="function",iD=(u,D,e)=>{if(typeof e=="string")return u[D].pipe(tn(e)),u;if(Ve(e))return u[D].pipe(e),u;if(!gs(e))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!Ve(e.stdin))throw new TypeError("The target child process's stdin must be available.");return u[D].pipe(e.stdin),e},Bs=u=>{u.stdout!==null&&(u.pipeStdout=iD.bind(void 0,u,"stdout")),u.stderr!==null&&(u.pipeStderr=iD.bind(void 0,u,"stderr")),u.all!==void 0&&(u.pipeAll=iD.bind(void 0,u,"all"))};var eu={exports:{}};const{PassThrough:bs}=Nu;var ys=u=>{u={...u};const{array:D}=u;let{encoding:e}=u;const t=e==="buffer";let r=!1;D?r=!(e||t):e=e||"utf8",t&&(e=null);const o=new bs({objectMode:r});e&&o.setEncoding(e);let n=0;const s=[];return o.on("data",i=>{s.push(i),r?n=s.length:n+=i.length}),o.getBufferedValue=()=>D?s:t?Buffer.concat(s,n):s.join(""),o.getBufferedLength=()=>n,o};const{constants:As}=rn,ws=Nu,{promisify:$s}=QD,vs=ys,xs=$s(ws.pipeline);class Je extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function aD(u,D){if(!u)throw new Error("Expected a stream");D={maxBuffer:1/0,...D};const{maxBuffer:e}=D,t=vs(D);return await new Promise((r,o)=>{const n=s=>{s&&t.getBufferedLength()<=As.MAX_LENGTH&&(s.bufferedData=t.getBufferedValue()),o(s)};(async()=>{try{await xs(u,t),r()}catch(s){n(s)}})(),t.on("data",()=>{t.getBufferedLength()>e&&n(new Je)})}),t.getBufferedValue()}eu.exports=aD,eu.exports.buffer=(u,D)=>aD(u,{...D,encoding:"buffer"}),eu.exports.array=(u,D)=>aD(u,{...D,array:!0}),eu.exports.MaxBufferError=Je;var Ss=eu.exports,Xe=j(Ss);const{PassThrough:Os}=Nu;var Ts=function(){var u=[],D=new Os({objectMode:!0});return D.setMaxListeners(0),D.add=e,D.isEmpty=t,D.on("unpipe",r),Array.prototype.slice.call(arguments).forEach(e),D;function e(o){return Array.isArray(o)?(o.forEach(e),this):(u.push(o),o.once("end",r.bind(null,o)),o.once("error",D.emit.bind(D,"error")),o.pipe(D,{end:!1}),this)}function t(){return u.length==0}function r(o){u=u.filter(function(n){return n!==o}),!u.length&&D.readable&&D.end()}},Is=j(Ts);const Ps=u=>{if(u!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},ks=({input:u,inputFile:D})=>typeof D!="string"?u:(Ps(u),nn(D)),_s=(u,D)=>{const e=ks(D);e!==void 0&&(Ye(e)?e.pipe(u.stdin):u.stdin.end(e))},Rs=(u,{all:D})=>{if(!D||!u.stdout&&!u.stderr)return;const e=Is();return u.stdout&&e.add(u.stdout),u.stderr&&e.add(u.stderr),e},cD=async(u,D)=>{if(!(!u||D===void 0)){u.destroy();try{return await D}catch(e){return e.bufferedData}}},lD=(u,{encoding:D,buffer:e,maxBuffer:t})=>{if(!(!u||!e))return D?Xe(u,{encoding:D,maxBuffer:t}):Xe.buffer(u,{maxBuffer:t})},Ms=async({stdout:u,stderr:D,all:e},{encoding:t,buffer:r,maxBuffer:o},n)=>{const s=lD(u,{encoding:t,buffer:r,maxBuffer:o}),i=lD(D,{encoding:t,buffer:r,maxBuffer:o}),l=lD(e,{encoding:t,buffer:r,maxBuffer:o*2});try{return await Promise.all([n,s,i,l])}catch(F){return Promise.all([{error:F,signal:F.signal,timedOut:F.timedOut},cD(u,s),cD(D,i),cD(e,l)])}},js=(async()=>{})().constructor.prototype,Ns=["then","catch","finally"].map(u=>[u,Reflect.getOwnPropertyDescriptor(js,u)]),Ze=(u,D)=>{for(const[e,t]of Ns){const r=typeof D=="function"?(...o)=>Reflect.apply(t.value,D(),o):t.value.bind(D);Reflect.defineProperty(u,e,{...t,value:r})}},Ls=u=>new Promise((D,e)=>{u.on("exit",(t,r)=>{D({exitCode:t,signal:r})}),u.on("error",t=>{e(t)}),u.stdin&&u.stdin.on("error",t=>{e(t)})}),Qe=(u,D=[])=>Array.isArray(D)?[u,...D]:[u],Gs=/^[\w.-]+$/,Ws=/"/g,Us=u=>typeof u!="string"||Gs.test(u)?u:`"${u.replace(Ws,'\\"')}"`,Hs=(u,D)=>Qe(u,D).join(" "),qs=(u,D)=>Qe(u,D).map(e=>Us(e)).join(" "),zs=on("execa").enabled,yu=(u,D)=>String(u).padStart(D,"0"),Ks=()=>{const u=new Date;return`${yu(u.getHours(),2)}:${yu(u.getMinutes(),2)}:${yu(u.getSeconds(),2)}.${yu(u.getMilliseconds(),3)}`},Ys=(u,{verbose:D})=>{D&&b.stderr.write(`[${Ks()}] ${u}
`)},Vs=1e3*1e3*100,Js=({env:u,extendEnv:D,preferLocal:e,localDir:t,execPath:r})=>{const o=D?{...b.env,...u}:u;return e?ko({env:o,cwd:t,execPath:r}):o},Xs=(u,D,e={})=>{const t=So._parse(u,D,e);return u=t.command,D=t.args,e=t.options,e={maxBuffer:Vs,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:e.cwd||b.cwd(),execPath:b.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:zs,...e},e.env=Js(e),e.stdio=Ds(e),b.platform==="win32"&&W.basename(u,".exe")==="cmd"&&D.unshift("/q"),{file:u,args:D,options:e,parsed:t}},FD=(u,D,e)=>typeof D!="string"&&!Qt.isBuffer(D)?e===void 0?void 0:"":u.stripFinalNewline?Oo(D):D;function tu(u,D,e){const t=Xs(u,D,e),r=Hs(u,D),o=qs(u,D);Ys(o,t.options),hs(t.options);let n;try{n=zD.spawn(t.file,t.args,t.options)}catch(C){const f=new zD.ChildProcess,d=Promise.reject(He({error:C,stdout:"",stderr:"",all:"",command:r,escapedCommand:o,parsed:t,timedOut:!1,isCanceled:!1,killed:!1}));return Ze(f,d),f}const s=Ls(n),i=ps(n,t.options,s),l=ms(n,t.options,i),F={isCanceled:!1};n.kill=cs.bind(null,n.kill.bind(n)),n.cancel=ds.bind(null,n,F);const c=Le(async()=>{const[{error:C,exitCode:f,signal:d,timedOut:p},h,w,T]=await Ms(n,t.options,l),Fu=FD(t.options,h),R=FD(t.options,w),Ru=FD(t.options,T);if(C||f!==0||d!==null){const G=He({error:C,exitCode:f,signal:d,stdout:Fu,stderr:R,all:Ru,command:r,escapedCommand:o,parsed:t,timedOut:p,isCanceled:F.isCanceled||(t.options.signal?t.options.signal.aborted:!1),killed:n.killed});if(!t.options.reject)return G;throw G}return{command:r,escapedCommand:o,exitCode:0,stdout:Fu,stderr:R,all:Ru,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return _s(n,t.options),n.all=Rs(n,t.options),Bs(n),Ze(n,c),n}let L=!0;const Y=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let nu=0;if(Y.process&&Y.process.env&&Y.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:D,NO_COLOR:e,TERM:t,COLORTERM:r}=Y.process.env;D||e||u==="0"?L=!1:u==="1"||u==="2"||u==="3"?L=!0:t==="dumb"?L=!1:"CI"in Y.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in Y.process.env)?L=!0:L=process.stdout.isTTY,L&&(process.platform==="win32"||r&&(r==="truecolor"||r==="24bit")?nu=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?nu=2:nu=1)}let ut={enabled:L,supportLevel:nu};function ru(u,D,e=1){const t=`\x1B[${u}m`,r=`\x1B[${D}m`,o=new RegExp(`\\x1b\\[${D}m`,"g");return n=>ut.enabled&&ut.supportLevel>=e?t+(""+n).replace(o,t)+r:""+n}const CD=ru(2,22),Dt=ru(30,39),Au=ru(31,39),wu=ru(32,39),et=ru(46,49),fD="\x1B",B=`${fD}[`,Zs="\x07",dD={to(u,D){return D?`${B}${D+1};${u+1}H`:`${B}${u+1}G`},move(u,D){let e="";return u<0?e+=`${B}${-u}D`:u>0&&(e+=`${B}${u}C`),D<0?e+=`${B}${-D}A`:D>0&&(e+=`${B}${D}B`),e},up:(u=1)=>`${B}${u}A`,down:(u=1)=>`${B}${u}B`,forward:(u=1)=>`${B}${u}C`,backward:(u=1)=>`${B}${u}D`,nextLine:(u=1)=>`${B}E`.repeat(u),prevLine:(u=1)=>`${B}F`.repeat(u),left:`${B}G`,hide:`${B}?25l`,show:`${B}?25h`,save:`${fD}7`,restore:`${fD}8`},Qs={up:(u=1)=>`${B}S`.repeat(u),down:(u=1)=>`${B}T`.repeat(u)},ui={screen:`${B}2J`,up:(u=1)=>`${B}1J`.repeat(u),down:(u=1)=>`${B}J`.repeat(u),line:`${B}2K`,lineEnd:`${B}K`,lineStart:`${B}1K`,lines(u){let D="";for(let e=0;e<u;e++)D+=this.line+(e<u-1?dD.up():"");return u&&(D+=dD.left),D}};var A={cursor:dD,scroll:Qs,erase:ui,beep:Zs},ED={exports:{}};let $u=process||{},tt=$u.argv||[],vu=$u.env||{},Di=!(vu.NO_COLOR||tt.includes("--no-color"))&&(!!vu.FORCE_COLOR||tt.includes("--color")||$u.platform==="win32"||($u.stdout||{}).isTTY&&vu.TERM!=="dumb"||!!vu.CI),ei=(u,D,e=u)=>t=>{let r=""+t,o=r.indexOf(D,u.length);return~o?u+ti(r,D,e,o)+D:u+r+D},ti=(u,D,e,t)=>{let r="",o=0;do r+=u.substring(o,t)+e,o=t+D.length,t=u.indexOf(D,o);while(~t);return r+u.substring(o)},nt=(u=Di)=>{let D=u?ei:()=>String;return{isColorSupported:u,reset:D("\x1B[0m","\x1B[0m"),bold:D("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:D("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:D("\x1B[3m","\x1B[23m"),underline:D("\x1B[4m","\x1B[24m"),inverse:D("\x1B[7m","\x1B[27m"),hidden:D("\x1B[8m","\x1B[28m"),strikethrough:D("\x1B[9m","\x1B[29m"),black:D("\x1B[30m","\x1B[39m"),red:D("\x1B[31m","\x1B[39m"),green:D("\x1B[32m","\x1B[39m"),yellow:D("\x1B[33m","\x1B[39m"),blue:D("\x1B[34m","\x1B[39m"),magenta:D("\x1B[35m","\x1B[39m"),cyan:D("\x1B[36m","\x1B[39m"),white:D("\x1B[37m","\x1B[39m"),gray:D("\x1B[90m","\x1B[39m"),bgBlack:D("\x1B[40m","\x1B[49m"),bgRed:D("\x1B[41m","\x1B[49m"),bgGreen:D("\x1B[42m","\x1B[49m"),bgYellow:D("\x1B[43m","\x1B[49m"),bgBlue:D("\x1B[44m","\x1B[49m"),bgMagenta:D("\x1B[45m","\x1B[49m"),bgCyan:D("\x1B[46m","\x1B[49m"),bgWhite:D("\x1B[47m","\x1B[49m"),blackBright:D("\x1B[90m","\x1B[39m"),redBright:D("\x1B[91m","\x1B[39m"),greenBright:D("\x1B[92m","\x1B[39m"),yellowBright:D("\x1B[93m","\x1B[39m"),blueBright:D("\x1B[94m","\x1B[39m"),magentaBright:D("\x1B[95m","\x1B[39m"),cyanBright:D("\x1B[96m","\x1B[39m"),whiteBright:D("\x1B[97m","\x1B[39m"),bgBlackBright:D("\x1B[100m","\x1B[49m"),bgRedBright:D("\x1B[101m","\x1B[49m"),bgGreenBright:D("\x1B[102m","\x1B[49m"),bgYellowBright:D("\x1B[103m","\x1B[49m"),bgBlueBright:D("\x1B[104m","\x1B[49m"),bgMagentaBright:D("\x1B[105m","\x1B[49m"),bgCyanBright:D("\x1B[106m","\x1B[49m"),bgWhiteBright:D("\x1B[107m","\x1B[49m")}};ED.exports=nt(),ED.exports.createColors=nt;var ni=ED.exports,E=j(ni);function ri({onlyFirst:u=!1}={}){const D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}const oi=ri();function rt(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(oi,"")}function ot(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var st={exports:{}};(function(u){var D={};u.exports=D,D.eastAsianWidth=function(t){var r=t.charCodeAt(0),o=t.length==2?t.charCodeAt(1):0,n=r;return 55296<=r&&r<=56319&&56320<=o&&o<=57343&&(r&=1023,o&=1023,n=r<<10|o,n+=65536),n==12288||65281<=n&&n<=65376||65504<=n&&n<=65510?"F":n==8361||65377<=n&&n<=65470||65474<=n&&n<=65479||65482<=n&&n<=65487||65490<=n&&n<=65495||65498<=n&&n<=65500||65512<=n&&n<=65518?"H":4352<=n&&n<=4447||4515<=n&&n<=4519||4602<=n&&n<=4607||9001<=n&&n<=9002||11904<=n&&n<=11929||11931<=n&&n<=12019||12032<=n&&n<=12245||12272<=n&&n<=12283||12289<=n&&n<=12350||12353<=n&&n<=12438||12441<=n&&n<=12543||12549<=n&&n<=12589||12593<=n&&n<=12686||12688<=n&&n<=12730||12736<=n&&n<=12771||12784<=n&&n<=12830||12832<=n&&n<=12871||12880<=n&&n<=13054||13056<=n&&n<=19903||19968<=n&&n<=42124||42128<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||55216<=n&&n<=55238||55243<=n&&n<=55291||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65126||65128<=n&&n<=65131||110592<=n&&n<=110593||127488<=n&&n<=127490||127504<=n&&n<=127546||127552<=n&&n<=127560||127568<=n&&n<=127569||131072<=n&&n<=194367||177984<=n&&n<=196605||196608<=n&&n<=262141?"W":32<=n&&n<=126||162<=n&&n<=163||165<=n&&n<=166||n==172||n==175||10214<=n&&n<=10221||10629<=n&&n<=10630?"Na":n==161||n==164||167<=n&&n<=168||n==170||173<=n&&n<=174||176<=n&&n<=180||182<=n&&n<=186||188<=n&&n<=191||n==198||n==208||215<=n&&n<=216||222<=n&&n<=225||n==230||232<=n&&n<=234||236<=n&&n<=237||n==240||242<=n&&n<=243||247<=n&&n<=250||n==252||n==254||n==257||n==273||n==275||n==283||294<=n&&n<=295||n==299||305<=n&&n<=307||n==312||319<=n&&n<=322||n==324||328<=n&&n<=331||n==333||338<=n&&n<=339||358<=n&&n<=359||n==363||n==462||n==464||n==466||n==468||n==470||n==472||n==474||n==476||n==593||n==609||n==708||n==711||713<=n&&n<=715||n==717||n==720||728<=n&&n<=731||n==733||n==735||768<=n&&n<=879||913<=n&&n<=929||931<=n&&n<=937||945<=n&&n<=961||963<=n&&n<=969||n==1025||1040<=n&&n<=1103||n==1105||n==8208||8211<=n&&n<=8214||8216<=n&&n<=8217||8220<=n&&n<=8221||8224<=n&&n<=8226||8228<=n&&n<=8231||n==8240||8242<=n&&n<=8243||n==8245||n==8251||n==8254||n==8308||n==8319||8321<=n&&n<=8324||n==8364||n==8451||n==8453||n==8457||n==8467||n==8470||8481<=n&&n<=8482||n==8486||n==8491||8531<=n&&n<=8532||8539<=n&&n<=8542||8544<=n&&n<=8555||8560<=n&&n<=8569||n==8585||8592<=n&&n<=8601||8632<=n&&n<=8633||n==8658||n==8660||n==8679||n==8704||8706<=n&&n<=8707||8711<=n&&n<=8712||n==8715||n==8719||n==8721||n==8725||n==8730||8733<=n&&n<=8736||n==8739||n==8741||8743<=n&&n<=8748||n==8750||8756<=n&&n<=8759||8764<=n&&n<=8765||n==8776||n==8780||n==8786||8800<=n&&n<=8801||8804<=n&&n<=8807||8810<=n&&n<=8811||8814<=n&&n<=8815||8834<=n&&n<=8835||8838<=n&&n<=8839||n==8853||n==8857||n==8869||n==8895||n==8978||9312<=n&&n<=9449||9451<=n&&n<=9547||9552<=n&&n<=9587||9600<=n&&n<=9615||9618<=n&&n<=9621||9632<=n&&n<=9633||9635<=n&&n<=9641||9650<=n&&n<=9651||9654<=n&&n<=9655||9660<=n&&n<=9661||9664<=n&&n<=9665||9670<=n&&n<=9672||n==9675||9678<=n&&n<=9681||9698<=n&&n<=9701||n==9711||9733<=n&&n<=9734||n==9737||9742<=n&&n<=9743||9748<=n&&n<=9749||n==9756||n==9758||n==9792||n==9794||9824<=n&&n<=9825||9827<=n&&n<=9829||9831<=n&&n<=9834||9836<=n&&n<=9837||n==9839||9886<=n&&n<=9887||9918<=n&&n<=9919||9924<=n&&n<=9933||9935<=n&&n<=9953||n==9955||9960<=n&&n<=9983||n==10045||n==10071||10102<=n&&n<=10111||11093<=n&&n<=11097||12872<=n&&n<=12879||57344<=n&&n<=63743||65024<=n&&n<=65039||n==65533||127232<=n&&n<=127242||127248<=n&&n<=127277||127280<=n&&n<=127337||127344<=n&&n<=127386||917760<=n&&n<=917999||983040<=n&&n<=1048573||1048576<=n&&n<=1114109?"A":"N"},D.characterLength=function(t){var r=this.eastAsianWidth(t);return r=="F"||r=="W"||r=="A"?2:1};function e(t){return t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}D.length=function(t){for(var r=e(t),o=0,n=0;n<r.length;n++)o=o+this.characterLength(r[n]);return o},D.slice=function(t,r,o){textLen=D.length(t),r=r||0,o=o||1,r<0&&(r=textLen+r),o<0&&(o=textLen+o);for(var n="",s=0,i=e(t),l=0;l<i.length;l++){var F=i[l],a=D.length(F);if(s>=r-(a==2?1:0))if(s+a<=o)n+=F;else break;s+=a}return n}})(st);var si=st.exports;const ii=ot(si);var ai=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const ci=ot(ai);function ou(u,D={}){if(typeof u!="string"||u.length===0||(D={ambiguousIsNarrow:!0,...D},u=rt(u),u.length===0))return 0;u=u.replace(ci(),"  ");const e=D.ambiguousIsNarrow?1:2;let t=0;for(const r of u){const o=r.codePointAt(0);if(!(o<=31||o>=127&&o<=159||o>=768&&o<=879))switch(ii.eastAsianWidth(r)){case"F":case"W":t+=2;break;case"A":t+=e;break;default:t+=1}}return t}const pD=10,it=(u=0)=>D=>`\x1B[${D+u}m`,at=(u=0)=>D=>`\x1B[${38+u};5;${D}m`,ct=(u=0)=>(D,e,t)=>`\x1B[${38+u};2;${D};${e};${t}m`,g={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(g.modifier);const li=Object.keys(g.color),Fi=Object.keys(g.bgColor);[...li,...Fi];function Ci(){const u=new Map;for(const[D,e]of Object.entries(g)){for(const[t,r]of Object.entries(e))g[t]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},e[t]=g[t],u.set(r[0],r[1]);Object.defineProperty(g,D,{value:e,enumerable:!1})}return Object.defineProperty(g,"codes",{value:u,enumerable:!1}),g.color.close="\x1B[39m",g.bgColor.close="\x1B[49m",g.color.ansi=it(),g.color.ansi256=at(),g.color.ansi16m=ct(),g.bgColor.ansi=it(pD),g.bgColor.ansi256=at(pD),g.bgColor.ansi16m=ct(pD),Object.defineProperties(g,{rgbToAnsi256:{value:(D,e,t)=>D===e&&e===t?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(e/255*5)+Math.round(t/255*5),enumerable:!1},hexToRgb:{value:D=>{const e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(D.toString(16));if(!e)return[0,0,0];let[t]=e;t.length===3&&(t=[...t].map(o=>o+o).join(""));const r=Number.parseInt(t,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:D=>g.rgbToAnsi256(...g.hexToRgb(D)),enumerable:!1},ansi256ToAnsi:{value:D=>{if(D<8)return 30+D;if(D<16)return 90+(D-8);let e,t,r;if(D>=232)e=((D-232)*10+8)/255,t=e,r=e;else{D-=16;const s=D%36;e=Math.floor(D/36)/5,t=Math.floor(s/6)/5,r=s%6/5}const o=Math.max(e,t,r)*2;if(o===0)return 30;let n=30+(Math.round(r)<<2|Math.round(t)<<1|Math.round(e));return o===2&&(n+=60),n},enumerable:!1},rgbToAnsi:{value:(D,e,t)=>g.ansi256ToAnsi(g.rgbToAnsi256(D,e,t)),enumerable:!1},hexToAnsi:{value:D=>g.ansi256ToAnsi(g.hexToAnsi256(D)),enumerable:!1}}),g}const fi=Ci(),xu=new Set(["\x1B","\x9B"]),di=39,hD="\x07",lt="[",Ei="]",Ft="m",mD=`${Ei}8;;`,Ct=u=>`${xu.values().next().value}${lt}${u}${Ft}`,ft=u=>`${xu.values().next().value}${mD}${u}${hD}`,pi=u=>u.split(" ").map(D=>ou(D)),gD=(u,D,e)=>{const t=[...D];let r=!1,o=!1,n=ou(rt(u[u.length-1]));for(const[s,i]of t.entries()){const l=ou(i);if(n+l<=e?u[u.length-1]+=i:(u.push(i),n=0),xu.has(i)&&(r=!0,o=t.slice(s+1).join("").startsWith(mD)),r){o?i===hD&&(r=!1,o=!1):i===Ft&&(r=!1);continue}n+=l,n===e&&s<t.length-1&&(u.push(""),n=0)}!n&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},hi=u=>{const D=u.split(" ");let e=D.length;for(;e>0&&!(ou(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},mi=(u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let t="",r,o;const n=pi(u);let s=[""];for(const[l,F]of u.split(" ").entries()){e.trim!==!1&&(s[s.length-1]=s[s.length-1].trimStart());let a=ou(s[s.length-1]);if(l!==0&&(a>=D&&(e.wordWrap===!1||e.trim===!1)&&(s.push(""),a=0),(a>0||e.trim===!1)&&(s[s.length-1]+=" ",a++)),e.hard&&n[l]>D){const c=D-a,C=1+Math.floor((n[l]-c-1)/D);Math.floor((n[l]-1)/D)<C&&s.push(""),gD(s,F,D);continue}if(a+n[l]>D&&a>0&&n[l]>0){if(e.wordWrap===!1&&a<D){gD(s,F,D);continue}s.push("")}if(a+n[l]>D&&e.wordWrap===!1){gD(s,F,D);continue}s[s.length-1]+=F}e.trim!==!1&&(s=s.map(l=>hi(l)));const i=[...s.join(`
`)];for(const[l,F]of i.entries()){if(t+=F,xu.has(F)){const{groups:c}=new RegExp(`(?:\\${lt}(?<code>\\d+)m|\\${mD}(?<uri>.*)${hD})`).exec(i.slice(l).join(""))||{groups:{}};if(c.code!==void 0){const C=Number.parseFloat(c.code);r=C===di?void 0:C}else c.uri!==void 0&&(o=c.uri.length===0?void 0:c.uri)}const a=fi.codes.get(Number(r));i[l+1]===`
`?(o&&(t+=ft("")),r&&a&&(t+=Ct(a))):F===`
`&&(r&&a&&(t+=Ct(r)),o&&(t+=ft(o)))}return t};function dt(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>mi(t,D,e)).join(`
`)}var gi=Object.defineProperty,Bi=(u,D,e)=>D in u?gi(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,I=(u,D,e)=>(Bi(u,typeof D!="symbol"?D+"":D,e),e);function bi(u,D){if(u===D)return;const e=u.split(`
`),t=D.split(`
`),r=[];for(let o=0;o<Math.max(e.length,t.length);o++)e[o]!==t[o]&&r.push(o);return r}const Et=Symbol("clack:cancel");function pt(u){return u===Et}function Su(u,D){u.isTTY&&u.setRawMode(D)}const ht=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),yi=new Set(["up","down","left","right","space","enter"]);class mt{constructor({render:D,input:e=KD,output:t=YD,...r},o=!0){I(this,"input"),I(this,"output"),I(this,"rl"),I(this,"opts"),I(this,"_track",!1),I(this,"_render"),I(this,"_cursor",0),I(this,"state","initial"),I(this,"value"),I(this,"error",""),I(this,"subscribers",new Map),I(this,"_prevFrame",""),this.opts=r,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=D.bind(this),this._track=o,this.input=e,this.output=t}prompt(){const D=new sn(0);return D._write=(e,t,r)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),r()},this.input.pipe(D),this.rl=ue.createInterface({input:this.input,output:D,tabSize:2,prompt:"",escapeCodeTimeout:50}),ue.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Su(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((e,t)=>{this.once("submit",()=>{this.output.write(A.cursor.show),this.output.off("resize",this.render),Su(this.input,!1),e(this.value)}),this.once("cancel",()=>{this.output.write(A.cursor.show),this.output.off("resize",this.render),Su(this.input,!1),e(Et)})})}on(D,e){const t=this.subscribers.get(D)??[];t.push({cb:e}),this.subscribers.set(D,t)}once(D,e){const t=this.subscribers.get(D)??[];t.push({cb:e,once:!0}),this.subscribers.set(D,t)}emit(D,...e){const t=this.subscribers.get(D)??[],r=[];for(const o of t)o.cb(...e),o.once&&r.push(()=>t.splice(t.indexOf(o),1));for(const o of r)o()}unsubscribe(){this.subscribers.clear()}onKeypress(D,e){if(this.state==="error"&&(this.state="active"),e?.name&&!this._track&&ht.has(e.name)&&this.emit("cursor",ht.get(e.name)),e?.name&&yi.has(e.name)&&this.emit("cursor",e.name),D&&(D.toLowerCase()==="y"||D.toLowerCase()==="n")&&this.emit("confirm",D.toLowerCase()==="y"),D==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),D&&this.emit("key",D.toLowerCase()),e?.name==="return"){if(this.opts.validate){const t=this.opts.validate(this.value);t&&(this.error=t,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}D===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Su(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){const D=dt(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(A.cursor.move(-999,D*-1))}render(){const D=dt(this._render(this)??"",process.stdout.columns,{hard:!0});if(D!==this._prevFrame){if(this.state==="initial")this.output.write(A.cursor.hide);else{const e=bi(this._prevFrame,D);if(this.restoreCursor(),e&&e?.length===1){const t=e[0];this.output.write(A.cursor.move(0,t)),this.output.write(A.erase.lines(1));const r=D.split(`
`);this.output.write(r[t]),this._prevFrame=D,this.output.write(A.cursor.move(0,r.length-t-1));return}else if(e&&e?.length>1){const t=e[0];this.output.write(A.cursor.move(0,t)),this.output.write(A.erase.down());const r=D.split(`
`).slice(t);this.output.write(r.join(`
`)),this._prevFrame=D;return}this.output.write(A.erase.down())}this.output.write(D),this.state==="initial"&&(this.state="active"),this._prevFrame=D}}}class Ai extends mt{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(D){super(D,!1),this.value=!!D.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",e=>{this.output.write(A.cursor.move(0,-1)),this.value=e,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}}var wi=Object.defineProperty,$i=(u,D,e)=>D in u?wi(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,gt=(u,D,e)=>($i(u,typeof D!="symbol"?D+"":D,e),e);let vi=class extends mt{constructor(u){super(u,!1),gt(this,"options"),gt(this,"cursor",0),this.options=u.options,this.cursor=this.options.findIndex(({value:D})=>D===u.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",D=>{switch(D){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};const xi=globalThis.process.platform.startsWith("win");function Si({input:u=KD,output:D=YD,overwrite:e=!0,hideCursor:t=!0}={}){const r=Cu.createInterface({input:u,output:D,prompt:"",tabSize:1});Cu.emitKeypressEvents(u,r),u.isTTY&&u.setRawMode(!0);const o=(n,{name:s})=>{if(String(n)===""){t&&D.write(A.cursor.show),process.exit(0);return}if(!e)return;let i=s==="return"?0:-1,l=s==="return"?-1:0;Cu.moveCursor(D,i,l,()=>{Cu.clearLine(D,1,()=>{u.once("keypress",o)})})};return t&&D.write(A.cursor.hide),u.once("keypress",o),()=>{u.off("keypress",o),t&&D.write(A.cursor.show),u.isTTY&&!xi&&u.setRawMode(!1),r.terminal=!1,r.close()}}function Oi(){return b.platform!=="win32"?b.env.TERM!=="linux":!!b.env.CI||!!b.env.WT_SESSION||!!b.env.TERMINUS_SUBLIME||b.env.ConEmuTask==="{cmd::Cmder}"||b.env.TERM_PROGRAM==="Terminus-Sublime"||b.env.TERM_PROGRAM==="vscode"||b.env.TERM==="xterm-256color"||b.env.TERM==="alacritty"||b.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}const BD=Oi(),_=(u,D)=>BD?u:D,Ti=_("\u25C6","*"),Bt=_("\u25A0","x"),bt=_("\u25B2","x"),yt=_("\u25C7","o"),Ii=_("\u250C","T"),O=_("\u2502","|"),bD=_("\u2514","\u2014"),yD=_("\u25CF",">"),AD=_("\u25CB"," "),At=u=>{switch(u){case"initial":case"active":return E.cyan(Ti);case"cancel":return E.red(Bt);case"error":return E.yellow(bt);case"submit":return E.green(yt)}},Pi=u=>{const D=u.active??"Yes",e=u.inactive??"No";return new Ai({active:D,inactive:e,initialValue:u.initialValue??!0,render(){const t=`${E.gray(O)}
${At(this.state)}  ${u.message}
`,r=this.value?D:e;switch(this.state){case"submit":return`${t}${E.gray(O)}  ${E.dim(r)}`;case"cancel":return`${t}${E.gray(O)}  ${E.strikethrough(E.dim(r))}
${E.gray(O)}`;default:return`${t}${E.cyan(O)}  ${this.value?`${E.green(yD)} ${D}`:`${E.dim(AD)} ${E.dim(D)}`} ${E.dim("/")} ${this.value?`${E.dim(AD)} ${E.dim(e)}`:`${E.green(yD)} ${e}`}
${E.cyan(bD)}
`}}}).prompt()},ki=u=>{const D=(t,r)=>{const o=t.label??String(t.value);return r==="active"?`${E.green(yD)} ${o} ${t.hint?E.dim(`(${t.hint})`):""}`:r==="selected"?`${E.dim(o)}`:r==="cancelled"?`${E.strikethrough(E.dim(o))}`:`${E.dim(AD)} ${E.dim(o)}`};let e=0;return new vi({options:u.options,initialValue:u.initialValue,render(){const t=`${E.gray(O)}
${At(this.state)}  ${u.message}
`;switch(this.state){case"submit":return`${t}${E.gray(O)}  ${D(this.options[this.cursor],"selected")}`;case"cancel":return`${t}${E.gray(O)}  ${D(this.options[this.cursor],"cancelled")}
${E.gray(O)}`;default:{const r=u.maxItems===void 0?1/0:Math.max(u.maxItems,5);this.cursor>=e+r-3?e=Math.max(Math.min(this.cursor-r+3,this.options.length-r),0):this.cursor<e+2&&(e=Math.max(this.cursor-2,0));const o=r<this.options.length&&e>0,n=r<this.options.length&&e+r<this.options.length;return`${t}${E.cyan(O)}  ${this.options.slice(e,e+r).map((s,i,l)=>i===0&&o||i===l.length-1&&n?E.dim("..."):D(s,i+e===this.cursor?"active":"inactive")).join(`
${E.cyan(O)}  `)}
${E.cyan(bD)}
`}}}}).prompt()},wt=(u="")=>{process.stdout.write(`${E.gray(Ii)}  ${u}
`)},V=(u="")=>{process.stdout.write(`${E.gray(O)}
${E.gray(bD)}  ${u}

`)},wD=()=>{const u=BD?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],D=BD?80:120;let e,t,r=!1,o="";const n=(F="")=>{r=!0,e=Si(),o=F.replace(/\.+$/,""),process.stdout.write(`${E.gray(O)}
`);let a=0,c=0;t=setInterval(()=>{const C=E.magenta(u[a]),f=".".repeat(Math.floor(c)).slice(0,3);process.stdout.write(A.cursor.move(-999,0)),process.stdout.write(A.erase.down(1)),process.stdout.write(`${C}  ${o}${f}`),a=a+1<u.length?a+1:0,c=c<u.length?c+.125:0},D)},s=(F="",a=0)=>{o=F??o,r=!1,clearInterval(t);const c=a===0?E.green(yt):a===1?E.red(Bt):E.red(bt);process.stdout.write(A.cursor.move(-999,0)),process.stdout.write(A.erase.down(1)),process.stdout.write(`${c}  ${o}
`),e()},i=(F="")=>{o=F??o},l=F=>{const a=F>1?"Something went wrong":"Canceled";r&&s(a,F)};return process.on("uncaughtExceptionMonitor",()=>l(2)),process.on("unhandledRejection",()=>l(2)),process.on("SIGINT",()=>l(1)),process.on("SIGTERM",()=>l(1)),process.on("exit",l),{start:n,stop:s,message:i}};class x extends Error{}const $D="    ",Ou=u=>{u instanceof Error&&!(u instanceof x)&&(u.stack&&console.error(CD(u.stack.split(`
`).slice(1).join(`
`))),console.error(`
${$D}${CD(`aicommits v${ye}`)}`),console.error(`
${$D}Please open a Bug report with the information above:`),console.error(`${$D}https://github.com/Nutlope/aicommits/issues/new/choose`))},$t=async()=>{const{stdout:u,failed:D}=await tu("git",["rev-parse","--show-toplevel"],{reject:!1});if(D)throw new x("The current directory must be a Git repository!");return u},vD=u=>`:(exclude)${u}`,vt=["package-lock.json","pnpm-lock.yaml","*.lock"].map(vD),xt=async u=>{const D=["diff","--cached","--diff-algorithm=minimal"],{stdout:e}=await tu("git",[...D,"--name-only",...vt,...u?u.map(vD):[]]);if(!e)return;const{stdout:t}=await tu("git",[...D,...vt,...u?u.map(vD):[]]);return{files:e.split(`
`),diff:t}},_i=u=>`Detected ${u.length.toLocaleString()} staged file${u.length>1?"s":""}`,{hasOwnProperty:xD}=Object.prototype,Tu=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,SD=(u,D)=>{const e=[];let t="";typeof D=="string"?D={section:D,whitespace:!1}:(D=D||Object.create(null),D.whitespace=D.whitespace===!0);const r=D.whitespace?" = ":"=";for(const o of Object.keys(u)){const n=u[o];if(n&&Array.isArray(n))for(const s of n)t+=J(o+"[]")+r+J(s)+Tu;else n&&typeof n=="object"?e.push(o):t+=J(o)+r+J(n)+Tu}D.section&&t.length&&(t="["+J(D.section)+"]"+Tu+t);for(const o of e){const n=St(o).join("\\."),s=(D.section?D.section+".":"")+n,{whitespace:i}=D,l=SD(u[o],{section:s,whitespace:i});t.length&&l.length&&(t+=Tu),t+=l}return t},St=u=>u.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(D=>D.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),Ot=u=>{const D=Object.create(null);let e=D,t=null;const r=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,o=u.split(/[\r\n]+/g);for(const s of o){if(!s||s.match(/^\s*[;#]/))continue;const i=s.match(r);if(!i)continue;if(i[1]!==void 0){if(t=Iu(i[1]),t==="__proto__"){e=Object.create(null);continue}e=D[t]=D[t]||Object.create(null);continue}const l=Iu(i[2]),F=l.length>2&&l.slice(-2)==="[]",a=F?l.slice(0,-2):l;if(a==="__proto__")continue;const c=i[3]?Iu(i[4]):!0,C=c==="true"||c==="false"||c==="null"?JSON.parse(c):c;F&&(xD.call(e,a)?Array.isArray(e[a])||(e[a]=[e[a]]):e[a]=[]),Array.isArray(e[a])?e[a].push(C):e[a]=C}const n=[];for(const s of Object.keys(D)){if(!xD.call(D,s)||typeof D[s]!="object"||Array.isArray(D[s]))continue;const i=St(s);e=D;const l=i.pop(),F=l.replace(/\\\./g,".");for(const a of i)a!=="__proto__"&&((!xD.call(e,a)||typeof e[a]!="object")&&(e[a]=Object.create(null)),e=e[a]);e===D&&F===l||(e[F]=D[s],n.push(s))}for(const s of n)delete D[s];return D},Tt=u=>u.startsWith('"')&&u.endsWith('"')||u.startsWith("'")&&u.endsWith("'"),J=u=>typeof u!="string"||u.match(/[=\r\n]/)||u.match(/^\[/)||u.length>1&&Tt(u)||u!==u.trim()?JSON.stringify(u):u.split(";").join("\\;").split("#").join("\\#"),Iu=(u,D)=>{if(u=(u||"").trim(),Tt(u)){u.charAt(0)==="'"&&(u=u.slice(1,-1));try{u=JSON.parse(u)}catch{}}else{let e=!1,t="";for(let r=0,o=u.length;r<o;r++){const n=u.charAt(r);if(e)"\\;#".indexOf(n)!==-1?t+=n:t+="\\"+n,e=!1;else{if(";#".indexOf(n)!==-1)break;n==="\\"?e=!0:t+=n}}return e&&(t+="\\"),t.trim()}return u};var Ri={parse:Ot,decode:Ot,stringify:SD,encode:SD,safe:J,unsafe:Iu},It=j(Ri);const Pt=u=>S.lstat(u).then(()=>!0,()=>!1),Mi=["","conventional"],{hasOwnProperty:ji}=Object.prototype,kt=(u,D)=>ji.call(u,D),P=(u,D,e)=>{if(!D)throw new x(`Invalid config property ${u}: ${e}`)},Pu={OPENAI_KEY(u){if(!u)throw new x("Please set your OpenAI API key via `aicommits config set OPENAI_KEY=<your token>`");return P("OPENAI_KEY",u.startsWith("sk-"),'Must start with "sk-"'),u},locale(u){return u?(P("locale",u,"Cannot be empty"),P("locale",/^[a-z-]+$/i.test(u),"Must be a valid locale (letters and dashes/underscores). You can consult the list of codes in: https://wikipedia.org/wiki/List_of_ISO_639-1_codes"),u):"en"},generate(u){if(!u)return 1;P("generate",/^\d+$/.test(u),"Must be an integer");const D=Number(u);return P("generate",D>0,"Must be greater than 0"),P("generate",D<=5,"Must be less or equal to 5"),D},type(u){return u?(P("type",Mi.includes(u),"Invalid commit type"),u):""},proxy(u){if(!(!u||u.length===0))return P("proxy",/^https?:\/\//.test(u),"Must be a valid URL"),u},model(u){return!u||u.length===0?"gpt-3.5-turbo":u},timeout(u){if(!u)return 1e4;P("timeout",/^\d+$/.test(u),"Must be an integer");const D=Number(u);return P("timeout",D>=500,"Must be greater than 500ms"),D},"max-length"(u){if(!u)return 50;P("max-length",/^\d+$/.test(u),"Must be an integer");const D=Number(u);return P("max-length",D>=20,"Must be greater than 20 characters"),D}},OD=U.join(De.homedir(),".aicommits"),_t=async()=>{if(!await Pt(OD))return Object.create(null);const D=await S.readFile(OD,"utf8");return It.parse(D)},TD=async(u,D)=>{const e=await _t(),t={};for(const r of Object.keys(Pu)){const o=Pu[r],n=u?.[r]??e[r];if(D)try{t[r]=o(n)}catch{}else t[r]=o(n)}return t},Ni=async u=>{const D=await _t();for(const[e,t]of u){if(!kt(Pu,e))throw new x(`Invalid config property: ${e}`);const r=Pu[e](t);D[e]=r}await S.writeFile(OD,It.stringify(D),"utf8")};var ID={},PD={exports:{}},su={exports:{}},kD,Rt;function Li(){if(Rt)return kD;Rt=1;var u=1e3,D=u*60,e=D*60,t=e*24,r=t*7,o=t*365.25;kD=function(F,a){a=a||{};var c=typeof F;if(c==="string"&&F.length>0)return n(F);if(c==="number"&&isFinite(F))return a.long?i(F):s(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))};function n(F){if(F=String(F),!(F.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(a){var c=parseFloat(a[1]),C=(a[2]||"ms").toLowerCase();switch(C){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*r;case"days":case"day":case"d":return c*t;case"hours":case"hour":case"hrs":case"hr":case"h":return c*e;case"minutes":case"minute":case"mins":case"min":case"m":return c*D;case"seconds":case"second":case"secs":case"sec":case"s":return c*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(F){var a=Math.abs(F);return a>=t?Math.round(F/t)+"d":a>=e?Math.round(F/e)+"h":a>=D?Math.round(F/D)+"m":a>=u?Math.round(F/u)+"s":F+"ms"}function i(F){var a=Math.abs(F);return a>=t?l(F,a,t,"day"):a>=e?l(F,a,e,"hour"):a>=D?l(F,a,D,"minute"):a>=u?l(F,a,u,"second"):F+" ms"}function l(F,a,c,C){var f=a>=c*1.5;return Math.round(F/c)+" "+C+(f?"s":"")}return kD}var _D,Mt;function jt(){if(Mt)return _D;Mt=1;function u(D){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=o,t.enabled=i,t.humanize=Li(),t.destroy=F,Object.keys(D).forEach(a=>{t[a]=D[a]}),t.names=[],t.skips=[],t.formatters={};function e(a){let c=0;for(let C=0;C<a.length;C++)c=(c<<5)-c+a.charCodeAt(C),c|=0;return t.colors[Math.abs(c)%t.colors.length]}t.selectColor=e;function t(a){let c,C=null,f,d;function p(...h){if(!p.enabled)return;const w=p,T=Number(new Date),Fu=T-(c||T);w.diff=Fu,w.prev=c,w.curr=T,c=T,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let R=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(G,Xt)=>{if(G==="%%")return"%";R++;const qD=t.formatters[Xt];if(typeof qD=="function"){const Zt=h[R];G=qD.call(w,Zt),h.splice(R,1),R--}return G}),t.formatArgs.call(w,h),(w.log||t.log).apply(w,h)}return p.namespace=a,p.useColors=t.useColors(),p.color=t.selectColor(a),p.extend=r,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(f!==t.namespaces&&(f=t.namespaces,d=t.enabled(a)),d),set:h=>{C=h}}),typeof t.init=="function"&&t.init(p),p}function r(a,c){const C=t(this.namespace+(typeof c>"u"?":":c)+a);return C.log=this.log,C}function o(a){t.save(a),t.namespaces=a,t.names=[],t.skips=[];const c=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const C of c)C[0]==="-"?t.skips.push(C.slice(1)):t.names.push(C)}function n(a,c){let C=0,f=0,d=-1,p=0;for(;C<a.length;)if(f<c.length&&(c[f]===a[C]||c[f]==="*"))c[f]==="*"?(d=f,p=C,f++):(C++,f++);else if(d!==-1)f=d+1,p++,C=p;else return!1;for(;f<c.length&&c[f]==="*";)f++;return f===c.length}function s(){const a=[...t.names,...t.skips.map(c=>"-"+c)].join(",");return t.enable(""),a}function i(a){for(const c of t.skips)if(n(a,c))return!1;for(const c of t.names)if(n(a,c))return!0;return!1}function l(a){return a instanceof Error?a.stack||a.message:a}function F(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return _D=u,_D}su.exports;var Nt;function Gi(){return Nt||(Nt=1,function(u,D){D.formatArgs=t,D.save=r,D.load=o,D.useColors=e,D.storage=n(),D.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),D.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let i;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(i=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(i[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;i.splice(1,0,l,"color: inherit");let F=0,a=0;i[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(F++,c==="%c"&&(a=F))}),i.splice(a,0,l)}D.log=console.debug||console.log||(()=>{});function r(i){try{i?D.storage.setItem("debug",i):D.storage.removeItem("debug")}catch{}}function o(){let i;try{i=D.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=process.env.DEBUG),i}function n(){try{return localStorage}catch{}}u.exports=jt()(D);const{formatters:s}=u.exports;s.j=function(i){try{return JSON.stringify(i)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(su,su.exports)),su.exports}var iu={exports:{}},RD,Lt;function Wi(){return Lt||(Lt=1,RD=(u,D=process.argv)=>{const e=u.startsWith("-")?"":u.length===1?"-":"--",t=D.indexOf(e+u),r=D.indexOf("--");return t!==-1&&(r===-1||t<r)}),RD}var MD,Gt;function Ui(){if(Gt)return MD;Gt=1;const u=De,D=Mu,e=Wi(),{env:t}=process;let r;e("no-color")||e("no-colors")||e("color=false")||e("color=never")?r=0:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(r=1),"FORCE_COLOR"in t&&(t.FORCE_COLOR==="true"?r=1:t.FORCE_COLOR==="false"?r=0:r=t.FORCE_COLOR.length===0?1:Math.min(parseInt(t.FORCE_COLOR,10),3));function o(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function n(i,l){if(r===0)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(i&&!l&&r===void 0)return 0;const F=r||0;if(t.TERM==="dumb")return F;if(process.platform==="win32"){const a=u.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(a=>a in t)||t.CI_NAME==="codeship"?1:F;if("TEAMCITY_VERSION"in t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(t.TEAMCITY_VERSION)?1:0;if(t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in t){const a=parseInt((t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(t.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(t.TERM)||"COLORTERM"in t?1:F}function s(i){const l=n(i,i&&i.isTTY);return o(l)}return MD={supportsColor:s,stdout:o(n(!0,D.isatty(1))),stderr:o(n(!0,D.isatty(2)))},MD}iu.exports;var Wt;function Hi(){return Wt||(Wt=1,function(u,D){const e=Mu,t=QD;D.init=F,D.log=s,D.formatArgs=o,D.save=i,D.load=l,D.useColors=r,D.destroy=t.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),D.colors=[6,2,3,4,5,1];try{const c=Ui();c&&(c.stderr||c).level>=2&&(D.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}D.inspectOpts=Object.keys(process.env).filter(c=>/^debug_/i.test(c)).reduce((c,C)=>{const f=C.substring(6).toLowerCase().replace(/_([a-z])/g,(p,h)=>h.toUpperCase());let d=process.env[C];return/^(yes|on|true|enabled)$/i.test(d)?d=!0:/^(no|off|false|disabled)$/i.test(d)?d=!1:d==="null"?d=null:d=Number(d),c[f]=d,c},{});function r(){return"colors"in D.inspectOpts?!!D.inspectOpts.colors:e.isatty(process.stderr.fd)}function o(c){const{namespace:C,useColors:f}=this;if(f){const d=this.color,p="\x1B[3"+(d<8?d:"8;5;"+d),h=`  ${p};1m${C} \x1B[0m`;c[0]=h+c[0].split(`
`).join(`
`+h),c.push(p+"m+"+u.exports.humanize(this.diff)+"\x1B[0m")}else c[0]=n()+C+" "+c[0]}function n(){return D.inspectOpts.hideDate?"":new Date().toISOString()+" "}function s(...c){return process.stderr.write(t.formatWithOptions(D.inspectOpts,...c)+`
`)}function i(c){c?process.env.DEBUG=c:delete process.env.DEBUG}function l(){return process.env.DEBUG}function F(c){c.inspectOpts={};const C=Object.keys(D.inspectOpts);for(let f=0;f<C.length;f++)c.inspectOpts[C[f]]=D.inspectOpts[C[f]]}u.exports=jt()(D);const{formatters:a}=u.exports;a.o=function(c){return this.inspectOpts.colors=this.useColors,t.inspect(c,this.inspectOpts).split(`
`).map(C=>C.trim()).join(" ")},a.O=function(c){return this.inspectOpts.colors=this.useColors,t.inspect(c,this.inspectOpts)}}(iu,iu.exports)),iu.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?PD.exports=Gi():PD.exports=Hi();var jD=PD.exports,ND={};Object.defineProperty(ND,"__esModule",{value:!0});function qi(u){return function(D,e){return new Promise((t,r)=>{u.call(this,D,e,(o,n)=>{o?r(o):t(n)})})}}ND.default=qi;var Ut=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};const zi=ZD,Ki=Ut(jD),Yi=Ut(ND),au=Ki.default("agent-base");function Vi(u){return!!u&&typeof u.addRequest=="function"}function LD(){const{stack:u}=new Error;return typeof u!="string"?!1:u.split(`
`).some(D=>D.indexOf("(https.js:")!==-1||D.indexOf("node:https:")!==-1)}function ku(u,D){return new ku.Agent(u,D)}(function(u){class D extends zi.EventEmitter{constructor(t,r){super();let o=r;typeof t=="function"?this.callback=t:t&&(o=t),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:LD()?443:80}set defaultPort(t){this.explicitDefaultPort=t}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:LD()?"https:":"http:"}set protocol(t){this.explicitProtocol=t}callback(t,r,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(t,r){const o=Object.assign({},r);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=LD()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,t._last=!0,t.shouldKeepAlive=!1;let n=!1,s=null;const i=o.timeout||this.timeout,l=C=>{t._hadError||(t.emit("error",C),t._hadError=!0)},F=()=>{s=null,n=!0;const C=new Error(`A "socket" was not created for HTTP request before ${i}ms`);C.code="ETIMEOUT",l(C)},a=C=>{n||(s!==null&&(clearTimeout(s),s=null),l(C))},c=C=>{if(n)return;if(s!=null&&(clearTimeout(s),s=null),Vi(C)){au("Callback returned another Agent instance %o",C.constructor.name),C.addRequest(t,o);return}if(C){C.once("free",()=>{this.freeSocket(C,o)}),t.onSocket(C);return}const f=new Error(`no Duplex stream was returned to agent-base for \`${t.method} ${t.path}\``);l(f)};if(typeof this.callback!="function"){l(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(au("Converting legacy callback function to promise"),this.promisifiedCallback=Yi.default(this.callback)):this.promisifiedCallback=this.callback),typeof i=="number"&&i>0&&(s=setTimeout(F,i)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{au("Resolving socket for %o request: %o",o.protocol,`${t.method} ${t.path}`),Promise.resolve(this.promisifiedCallback(t,o)).then(c,a)}catch(C){Promise.reject(C).catch(a)}}freeSocket(t,r){au("Freeing socket %o %o",t.constructor.name,r),t.destroy()}destroy(){au("Destroying agent %o",this.constructor.name)}}u.Agent=D,u.prototype=u.Agent.prototype})(ku||(ku={}));var Ji=ku,GD={},Xi=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(GD,"__esModule",{value:!0});const Zi=Xi(jD),cu=Zi.default("https-proxy-agent:parse-proxy-response");function Qi(u){return new Promise((D,e)=>{let t=0;const r=[];function o(){const a=u.read();a?F(a):u.once("readable",o)}function n(){u.removeListener("end",i),u.removeListener("error",l),u.removeListener("close",s),u.removeListener("readable",o)}function s(a){cu("onclose had error %o",a)}function i(){cu("onend")}function l(a){n(),cu("onerror %o",a),e(a)}function F(a){r.push(a),t+=a.length;const c=Buffer.concat(r,t);if(c.indexOf(`\r
\r
`)===-1){cu("have not received end of HTTP headers yet..."),o();return}const f=c.toString("ascii",0,c.indexOf(`\r
`)),d=+f.split(" ")[1];cu("got proxy server response: %o",f),D({statusCode:d,buffered:c})}u.on("error",l),u.on("close",s),u.on("end",i),o()})}GD.default=Qi;var ua=y&&y.__awaiter||function(u,D,e,t){function r(o){return o instanceof e?o:new e(function(n){n(o)})}return new(e||(e=Promise))(function(o,n){function s(F){try{l(t.next(F))}catch(a){n(a)}}function i(F){try{l(t.throw(F))}catch(a){n(a)}}function l(F){F.done?o(F.value):r(F.value).then(s,i)}l((t=t.apply(u,D||[])).next())})},X=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ID,"__esModule",{value:!0});const Ht=X(cn),qt=X(ln),Da=X(Fn),ea=X(XD),ta=X(jD),na=Ji,ra=X(GD),lu=ta.default("https-proxy-agent:agent");class oa extends na.Agent{constructor(D){let e;if(typeof D=="string"?e=Da.default.parse(D):e=D,!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");lu("creating new HttpsProxyAgent instance: %o",e),super(e);const t=Object.assign({},e);this.secureProxy=e.secureProxy||aa(t.protocol),t.host=t.hostname||t.host,typeof t.port=="string"&&(t.port=parseInt(t.port,10)),!t.port&&t.host&&(t.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in t)&&(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}callback(D,e){return ua(this,void 0,void 0,function*(){const{proxy:t,secureProxy:r}=this;let o;r?(lu("Creating `tls.Socket`: %o",t),o=qt.default.connect(t)):(lu("Creating `net.Socket`: %o",t),o=Ht.default.connect(t));const n=Object.assign({},t.headers);let i=`CONNECT ${`${e.host}:${e.port}`} HTTP/1.1\r
`;t.auth&&(n["Proxy-Authorization"]=`Basic ${Buffer.from(t.auth).toString("base64")}`);let{host:l,port:F,secureEndpoint:a}=e;ia(F,a)||(l+=`:${F}`),n.Host=l,n.Connection="close";for(const p of Object.keys(n))i+=`${p}: ${n[p]}\r
`;const c=ra.default(o);o.write(`${i}\r
`);const{statusCode:C,buffered:f}=yield c;if(C===200){if(D.once("socket",sa),e.secureEndpoint){lu("Upgrading socket connection to TLS");const p=e.servername||e.host;return qt.default.connect(Object.assign(Object.assign({},ca(e,"host","hostname","path","port")),{socket:o,servername:p}))}return o}o.destroy();const d=new Ht.default.Socket({writable:!1});return d.readable=!0,D.once("socket",p=>{lu("replaying proxy buffer for failed request"),ea.default(p.listenerCount("data")>0),p.push(f),p.push(null)}),d})}}ID.default=oa;function sa(u){u.resume()}function ia(u,D){return!!(!D&&u===80||D&&u===443)}function aa(u){return typeof u=="string"?/^https:?$/i.test(u):!1}function ca(u,...D){const e={};let t;for(t in u)D.includes(t)||(e[t]=u[t]);return e}var la=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};const WD=la(ID);function UD(u){return new WD.default(u)}(function(u){u.HttpsProxyAgent=WD.default,u.prototype=WD.default.prototype})(UD||(UD={}));var Fa=UD,Ca=j(Fa);const fa={"":"<commit message>",conventional:"<type>(<optional scope>): <commit message>"},da=u=>`The output response must be in format:
${fa[u]}`,Ea={"":"",conventional:`Choose a type from the type-to-description JSON below that best describes the git diff:
${JSON.stringify({docs:"Documentation only changes",style:"Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)",refactor:"A code change that neither fixes a bug nor adds a feature",perf:"A code change that improves performance",test:"Adding missing tests or correcting existing tests",build:"Changes that affect the build system or external dependencies",ci:"Changes to our CI configuration files and scripts",chore:"Other changes that don't modify src or test files",revert:"Reverts a previous commit",feat:"A new feature",fix:"A bug fix"},null,2)}`},pa=(u,D,e)=>["Generate a concise git commit message written in present tense for the following code diff with the given specifications below:",`Message language: ${u}`,`Commit message must be a maximum of ${D} characters.`,"Exclude anything unnecessary such as translation. Your entire response will be passed directly into git commit.",Ea[e],da(e)].filter(Boolean).join(`
`),ha=async(u,D,e,t,r,o)=>new Promise((n,s)=>{const i=JSON.stringify(t),l=an.request({port:443,hostname:u,path:D,method:"POST",headers:{...e,"Content-Type":"application/json","Content-Length":Buffer.byteLength(i)},timeout:r,agent:o?Ca(o):void 0},F=>{const a=[];F.on("data",c=>a.push(c)),F.on("end",()=>{n({request:l,response:F,data:Buffer.concat(a).toString()})})});l.on("error",s),l.on("timeout",()=>{l.destroy(),s(new x(`Time out error: request took over ${r}ms. Try increasing the \`timeout\` config, or checking the OpenAI API status https://status.openai.com`))}),l.write(i),l.end()}),ma=async(u,D,e,t)=>{const{response:r,data:o}=await ha("api.openai.com","/v1/chat/completions",{Authorization:`Bearer ${u}`},D,e,t);if(!r.statusCode||r.statusCode<200||r.statusCode>299){let n=`OpenAI API Error: ${r.statusCode} - ${r.statusMessage}`;throw o&&(n+=`

${o}`),r.statusCode===500&&(n+=`

Check the API status: https://status.openai.com`),new x(n)}return JSON.parse(o)},ga=u=>u.trim().replace(/[\n\r]/g,"").replace(/(\w)\.$/,"$1"),Ba=u=>Array.from(new Set(u)),zt=async(u,D,e,t,r,o,n,s,i)=>{try{const l=await ma(u,{model:D,messages:[{role:"system",content:pa(e,o,n)},{role:"user",content:t}],temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0,.../^o/.test(String(D))?{max_completion_tokens:200}:{max_tokens:200},stream:!1,n:r},s,i);return Ba(l.choices.filter(F=>F.message?.content).map(F=>ga(F.message.content)))}catch(l){const F=l;throw F.code==="ENOTFOUND"?new x(`Error connecting to ${F.hostname} (${F.syscall}). Are you connected to the internet?`):F}};var ba=async(u,D,e,t,r)=>(async()=>{wt(et(Dt(" aicommits "))),await $t();const o=wD();e&&await tu("git",["add","--update"]),o.start("Detecting staged files");const n=await xt(D);if(!n)throw o.stop("Detecting staged files"),new x("No staged changes found. Stage your changes manually, or automatically stage all changes with the `--all` flag.");o.stop(`${_i(n.files)}:
${n.files.map(c=>`     ${c}`).join(`
`)}`);const{env:s}=process,i=await TD({OPENAI_KEY:s.OPENAI_KEY||s.OPENAI_API_KEY,proxy:s.https_proxy||s.HTTPS_PROXY||s.http_proxy||s.HTTP_PROXY,generate:u?.toString(),type:t?.toString()}),l=wD();l.start("The AI is analyzing your changes");let F;try{F=await zt(i.OPENAI_KEY,i.model,i.locale,n.diff,i.generate,i["max-length"],i.type,i.timeout,i.proxy)}finally{l.stop("Changes analyzed")}if(F.length===0)throw new x("No commit messages were generated. Try again.");let a;if(F.length===1){[a]=F;const c=await Pi({message:`Use this commit message?

   ${a}
`});if(!c||pt(c)){V("Commit cancelled");return}}else{const c=await ki({message:`Pick a commit message to use: ${CD("(Ctrl+c to exit)")}`,options:F.map(C=>({label:C,value:C}))});if(pt(c)){V("Commit cancelled");return}a=c}await tu("git",["commit","-m",a,...r]),V(`${wu("\u2714")} Successfully committed!`)})().catch(o=>{V(`${Au("\u2716")} ${o.message}`),Ou(o),process.exit(1)});const[HD,ya]=process.argv.slice(2);var Aa=()=>(async()=>{if(!HD)throw new x('Commit message file path is missing. This file should be called from the "prepare-commit-msg" git hook');if(ya)return;const u=await xt();if(!u)return;wt(et(Dt(" aicommits ")));const{env:D}=process,e=await TD({proxy:D.https_proxy||D.HTTPS_PROXY||D.http_proxy||D.HTTP_PROXY}),t=wD();t.start("The AI is analyzing your changes");let r;try{r=await zt(e.OPENAI_KEY,e.model,e.locale,u.diff,e.generate,e["max-length"],e.type,e.timeout,e.proxy)}finally{t.stop("Changes analyzed")}const n=await S.readFile(HD,"utf8")!=="",s=r.length>1;let i="";n&&(i=`# \u{1F916} AI generated commit${s?"s":""}
`),s?(n&&(i+=`# Select one of the following messages by uncommeting:
`),i+=`
${r.map(l=>`# ${l}`).join(`
`)}`):(n&&(i+=`# Edit the message below and commit:
`),i+=`
${r[0]}
`),await S.appendFile(HD,i),V(`${wu("\u2714")} Saved commit message!`)})().catch(u=>{V(`${Au("\u2716")} ${u.message}`),Ou(u),process.exit(1)}),wa=be({name:"config",parameters:["<mode>","<key=value...>"]},u=>{(async()=>{const{mode:D,keyValue:e}=u._;if(D==="get"){const t=await TD({},!0);for(const r of e)kt(t,r)&&console.log(`${r}=${t[r]}`);return}if(D==="set"){await Ni(e.map(t=>t.split("=")));return}throw new x(`Invalid mode: ${D}`)})().catch(D=>{console.error(`${Au("\u2716")} ${D.message}`),Ou(D),process.exit(1)})});const Kt="prepare-commit-msg",Yt=`.git/hooks/${Kt}`,_u=Cn(new URL("cli.mjs",import.meta.url)),$a=process.argv[1].replace(/\\/g,"/").endsWith(`/${Yt}`),Vt=process.platform==="win32",Jt=`
#!/usr/bin/env node
import(${JSON.stringify(fn(_u))})
`.trim();var va=be({name:"hook",parameters:["<install/uninstall>"]},u=>{(async()=>{const D=await $t(),{installUninstall:e}=u._,t=U.join(D,Yt),r=await Pt(t);if(e==="install"){if(r){if(await S.realpath(t).catch(()=>{})===_u){console.warn("The hook is already installed");return}throw new x(`A different ${Kt} hook seems to be installed. Please remove it before installing aicommits.`)}await S.mkdir(U.dirname(t),{recursive:!0}),Vt?await S.writeFile(t,Jt):(await S.symlink(_u,t,"file"),await S.chmod(t,493)),console.log(`${wu("\u2714")} Hook installed`);return}if(e==="uninstall"){if(!r){console.warn("Hook is not installed");return}if(Vt){if(await S.readFile(t,"utf8")!==Jt){console.warn("Hook is not installed");return}}else if(await S.realpath(t)!==_u){console.warn("Hook is not installed");return}await S.rm(t),console.log(`${wu("\u2714")} Hook uninstalled`);return}throw new x(`Invalid mode: ${e}`)})().catch(D=>{console.error(`${Au("\u2716")} ${D.message}`),Ou(D),process.exit(1)})});const{description:xa,version:Sa}=Kr,Oa=process.argv.slice(2);Pr({name:"aicommits",version:Sa,flags:{generate:{type:Number,description:"Number of messages to generate (Warning: generating multiple costs more) (default: 1)",alias:"g"},exclude:{type:[String],description:"Files to exclude from AI analysis",alias:"x"},all:{type:Boolean,description:"Automatically stage changes in tracked files for the commit",alias:"a",default:!1},type:{type:String,description:"Type of commit message to generate",alias:"t"}},commands:[wa,va],help:{description:xa},ignoreArgv:u=>u==="unknown-flag"||u==="argument"},u=>{$a?Aa():ba(u.flags.generate,u.flags.exclude,u.flags.all,u.flags.type,Oa)});
